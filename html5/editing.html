<!DOCTYPE html><html lang="ja"><meta charset="utf-8"><title>7 ユーザーとの対話処理 — HTML5 日本語訳</title><script src="link-fixup.js"></script>
<style type="text/css">

     .applies thead th > * { display: block; }
     .applies thead code { display: block; }
     .applies tbody th { white-space: nowrap; }
     .applies td { text-align: center; }
     .applies .yes { background: yellow; }

     .matrix, .matrix td { border: hidden; text-align: right; }
     .matrix { margin-left: 2em; }

     .dice-example { border-collapse: collapse; border-style: hidden solid solid hidden; border-width: thin; margin-left: 3em; }
     .dice-example caption { width: 30em; font-size: smaller; font-style: italic; padding: 0.75em 0; text-align: left; }
     .dice-example td, .dice-example th { border: solid thin; width: 1.35em; height: 1.05em; text-align: center; padding: 0; }

     td.eg { border-width: thin; text-align: center; }

     #table-example-1 { border: solid thin; border-collapse: collapse; margin-left: 3em; }
     #table-example-1 * { font-family: "Essays1743", serif; line-height: 1.01em; }
     #table-example-1 caption { padding-bottom: 0.5em; }
     #table-example-1 thead, #table-example-1 tbody { border: none; }
     #table-example-1 th, #table-example-1 td { border: solid thin; }
     #table-example-1 th { font-weight: normal; }
     #table-example-1 td { border-style: none solid; vertical-align: top; }
     #table-example-1 th { padding: 0.5em; vertical-align: middle; text-align: center; }
     #table-example-1 tbody tr:first-child td { padding-top: 0.5em; }
     #table-example-1 tbody tr:last-child td { padding-bottom: 1.5em; }
     #table-example-1 tbody td:first-child { padding-left: 2.5em; padding-right: 0; width: 9em; }
     #table-example-1 tbody td { padding-left: 2em; padding-right: 2em; }
     #table-example-1 tbody td:first-child + td { width: 10em; }
     #table-example-1 tbody td:first-child + td ~ td { width: 2.5em; }
     #table-example-1 tbody td:first-child + td + td + td ~ td { width: 1.25em; }

     .apple-table-examples { border: none; border-collapse: separate; border-spacing: 1.5em 0em; width: 40em; margin-left: 3em; }
     .apple-table-examples * { font-family: "Times", serif; }
     .apple-table-examples td, .apple-table-examples th { border: none; white-space: nowrap; padding-top: 0; padding-bottom: 0; }
     .apple-table-examples tbody th:first-child { border-left: none; width: 100%; }
     .apple-table-examples thead th:first-child ~ th { font-size: smaller; font-weight: bolder; border-bottom: solid 2px; text-align: center; }
     .apple-table-examples tbody th, .apple-table-examples tfoot th { font: inherit; text-align: left; }
     .apple-table-examples td { text-align: right; vertical-align: top; }
     .apple-table-examples.e1 tbody tr:last-child td { border-bottom: solid 1px; }
     .apple-table-examples.e1 tbody + tbody tr:last-child td { border-bottom: double 3px; }
     .apple-table-examples.e2 th[scope=row] { padding-left: 1em; }
     .apple-table-examples sup { line-height: 0; }

     .details-example img { vertical-align: top; }

     #base64-table {
       white-space: nowrap;
       font-size: 0.6em;
       column-width: 6em;
       column-count: 5;
       column-gap: 1em;
       -moz-column-width: 6em;
       -moz-column-count: 5;
       -moz-column-gap: 1em;
       -webkit-column-width: 6em;
       -webkit-column-count: 5;
       -webkit-column-gap: 1em;
     }
     #base64-table thead { display: none; }
     #base64-table * { border: none; }
     #base64-table tbody td:first-child:after { content: ':'; }
     #base64-table tbody td:last-child { text-align: right; }

     #named-character-references-table {
       white-space: nowrap;
       font-size: 0.6em;
       column-width: 30em;
       column-gap: 1em;
       -moz-column-width: 30em;
       -moz-column-gap: 1em;
       -webkit-column-width: 30em;
       -webkit-column-gap: 1em;
     }
     #named-character-references-table > table > tbody > tr > td:first-child + td,
     #named-character-references-table > table > tbody > tr > td:last-child { text-align: center; }
     #named-character-references-table > table > tbody > tr > td:last-child:hover > span { position: absolute; top: auto; left: auto; margin-left: 0.5em; line-height: 1.2; font-size: 5em; border: outset; padding: 0.25em 0.5em; background: white; width: 1.25em; height: auto; text-align: center; }
     #named-character-references-table > table > tbody > tr#entity-CounterClockwiseContourIntegral > td:first-child { font-size: 0.5em; }

     .glyph.control { color: red; }

     @font-face {
       font-family: 'Essays1743';
       src: url('fonts/Essays1743.ttf');
     }
     @font-face {
       font-family: 'Essays1743';
       font-weight: bold;
       src: url('fonts/Essays1743-Bold.ttf');
     }
     @font-face {
       font-family: 'Essays1743';
       font-style: italic;
       src: url('fonts/Essays1743-Italic.ttf');
     }
     @font-face {
       font-family: 'Essays1743';
       font-style: italic;
       font-weight: bold;
       src: url('fonts/Essays1743-BoldItalic.ttf');
     }

    </style>
<style type="text/css">
       pre { margin-left: 2em; white-space: pre-wrap; }
       h2 { margin: 3em 0 1em 0; }
       h3 { margin: 2.5em 0 1em 0; }
       h4 { margin: 2.5em 0 0.75em 0; }
       h5, h6 { margin: 2.5em 0 1em; }
       h1 + h2, h1 + h2 + h2, h1 + p, h1 + p + h2 { margin: 0.75em 0 0.75em; }
       h2 + h3, h3 + h4, h4 + h5, h5 + h6 { margin-top: 0.5em; }
       p { margin: 1em 0; }
       hr:not(.top) { display: block; background: none; border: none; padding: 0; margin: 2em 0; height: auto; }
       .element dd,  .element dl { margin-top: 0em; margin-bottom: 0.25em;}
       dt { margin-top: 0.75em; margin-bottom: 0.5em; clear: left; }
        .element dt { margin-top: 0.5em; margin-bottom: 0.5em;  }
       dt + dt { margin-top: 0; }
       dd dt { margin-top: 0.25em; margin-bottom: 0; }
       dd p { margin-top: 0; }
       dd dl + p { margin-top: 1em; }
       dd table + p { margin-top: 1em; }
       p + * > li, dd li { margin: 1em 0; }
       dt, dfn { font-weight: bold; font-style: normal; }
       i, em { font-style: italic; }
       dt dfn { font-style: italic; }
       pre, code { font-size: inherit; font-family: monospace; font-variant: normal; }
       pre strong { color: black; font: inherit; font-weight: bold; background: yellow; }
       pre em { font-weight: bolder; font-style: normal; }
       @media screen { code { color: #D93B00; } code :link, code :visited { color: inherit; } }
       var { background-color: #f9f9f9; border: 1px solid #eee; padding: 0 2px; }
       var sub { vertical-align: bottom; font-size: smaller; position: relative; top: 0.1em; }
       table { border-collapse: collapse; border-style: hidden hidden none hidden; }
       table thead, table tbody { border-bottom: solid; }
       table tbody th:first-child { border-left: solid; }
       table tbody th { text-align: left; }
       table td, table th { border-left: solid; border-right: solid; border-bottom: solid thin; vertical-align: top; padding: 0.2em; }
       blockquote { margin: 0 0 0 2em; border: 0; padding: 0; font-style: italic; }

       .bad, .bad *:not(.XXX) { color: #5F6D7A; border-color: gray; background: transparent; }
       .matrix, .matrix td { border: none; text-align: right; }
       .matrix { margin-left: 2em; }
       .dice-example { border-collapse: collapse; border-style: hidden solid solid hidden; border-width: thin; margin-left: 3em; }
       .dice-example caption { width: 30em; font-size: smaller; font-style: italic; padding: 0.75em 0; text-align: left; }
       .dice-example td, .dice-example th { border: solid thin; width: 1.35em; height: 1.05em; text-align: center; padding: 0; }

       .toc dfn, h1 dfn, h2 dfn, h3 dfn, h4 dfn, h5 dfn, h6 dfn { font: inherit; }
       img.extra, p.overview { float: right; }
       pre.idl { border: solid thin #d3d3d3; background: #FCFCFC; color: black; padding: 0.5em 1em; position: relative; }
       pre.idl :link, pre.idl :visited { color: inherit; background: transparent; }
       pre.idl::before { content: "IDL"; font: bold small sans-serif; padding: 0.5em; background: white; position: absolute; top: 0; margin: -1px 0 0 -4em; width: 1.5em; border: thin solid; border-radius: 0 0 0 0.5em }
       pre.css { border: solid thin; background: #FFFFEE; color: black; padding: 0.5em 1em; }
       pre.css:first-line { color: #AAAA50; }
       dl.domintro {padding: 0.5em 1em; border: none; background:#E9FBE9; border: 1px solid lightgray; }
       hr + dl.domintro, div.impl + dl.domintro { margin-top: 2.5em; margin-bottom: 1.5em; }
       dl.domintro dt, dl.domintro dt * { color: black; text-decoration: none; }
       dl.domintro dd { margin: 0.5em 0 1em 2em; padding: 0; }
       dl.domintro dd p { margin: 0.5em 0; }
       dl.domintro:before { display: table; margin: -1em -0.5em -0.5em auto; width: auto; content: 'This definition is non-normative. Implementation requirements are given below this definition.'; color: #606060; border:1px solid lightgray; background: white; padding: 0 0.25em;font-size:.9em;}
       dl.switch { padding-left: 2em; }
       dl.switch > dt { text-indent: -1.5em; }
       dl.switch > dt:before { content: '\21AA'; padding: 0 0.5em 0 0; display: inline-block; width: 1em; text-align: right; line-height: 0.5em; }
       dl.triple { padding: 0 0 0 1em; }
       dl.triple dt, dl.triple dd { margin: 0; display: inline }
       dl.triple dt:after { content: ':'; }
       dl.triple dd:after { content: '\A'; white-space: pre; }
       .diff-old { text-decoration: line-through; color: silver; background: transparent; }
       .diff-chg, .diff-new { text-decoration: underline; color: green; background: transparent; }
       a .diff-new { border-bottom: 1px blue solid; }

       figure.diagrams { border: double black; background: white; padding: 1em; }
       figure.diagrams img { display: block; margin: 1em auto; } 

       h2 { page-break-before: always; }
       h1, h2, h3, h4, h5, h6 { page-break-after: avoid; }
       h1 + h2, hr + h2.no-toc { page-break-before: auto; }

       p  > span:not([title=""]):not([class="XXX"]):not([class="impl"]):not([class="note"]):not([class="t2"]):not([id]):not([lang]),
       li > span:not([title=""]):not([class="XXX"]):not([class="impl"]):not([class="note"]):not([class="t2"]):not([id]):not([lang])
       { border-bottom: solid #9999CC; }

       div.head { margin: 0 0 1em; padding: 1em 0 0 0; }
       div.head p { margin: 0; }
       div.head h1 { margin: 0; }
       div.head .logo { float: right; margin: 0 1em; }
       div.head .logo img { border: none } /* remove border from top image */
       div.head dl { margin: 1em 0; }
       div.head p.copyright, div.head p.alt { font-size: x-small; font-style: oblique; margin: 0; }

       body > .toc > li { margin-top: 1em; margin-bottom: 1em; }
       body > .toc.brief > li { margin-top: 0.35em; margin-bottom: 0.35em; }
       body > .toc > li > * { margin-bottom: 0.5em; }
       body > .toc > li > * > li > * { margin-bottom: 0.25em; }
       .toc, .toc li { list-style: none; }

       .brief { margin-top: 1em; margin-bottom: 1em; line-height: 1.1; }
       .brief li { margin: 0; padding: 0; }
       .brief li p { margin: 0; padding: 0; }

       .category-list { margin-top: -0.75em; margin-bottom: 1em; line-height: 1.5; }
       .category-list::before { content: '\21D2\A0'; font-size: 1.2em; font-weight: 900; }
       .category-list li { display: inline; }
       .category-list li:not(:last-child)::after { content: ', '; }
       .category-list li > span, .category-list li > a { text-transform: lowercase; }
       .category-list li * { text-transform: none; } /* don't affect <code> nested in <a> */

       .XXX { color: #E50000; background: white; border: solid red; padding: 0.5em; margin: 1em 0; }
       .XXX > :first-child { margin-top: 0; }
       p .XXX { line-height: 3em; }
       .annotation { border: solid thin black; background: #0C479D; color: white; position: relative; margin: 8px 0 20px 0; }
       .annotation:before { position: absolute; left: 0; top: 0; width: 100%; height: 100%; margin: 6px -6px -6px 6px; background: #333333; z-index: -1; content: ''; }
       .annotation :link, .annotation :visited { color: inherit; }
       .annotation :link:hover, .annotation :visited:hover { background: transparent; }
       .annotation span { border: none ! important; }
       .note { border-left-style: solid; border-left-width: 0.25em; background: none repeat scroll 0 0 #E9FBE9; border-color: #52E052; }
       .warning { background-color: #F9F0D4; border: medium double #FF0000; margin: 1em; padding: 1em; }
       .note em, .warning em, .note i, .warning i { font-style: normal; }
       p.note, div.note { padding: 0.5em 2em; }
       span.note { padding: 0 2em; }
       .note p:first-child, .warning p:first-child { margin-top: 0; }
       .note p:last-child, .warning p:last-child { margin-bottom: 0; }
       .warning:before { font-style: normal; }
       p.note:before { content: 'Note: '; font-weight: bolder;}
       p.warning:before { content: '\26A0 Warning! '; font-weight:bolder;}
       .critical {margin:1em; border:double red; padding:1em; background-color:#F9F0D4;}

       .bookkeeping:before { display: block; content: 'Bookkeeping details'; font-weight: bolder; font-style: italic; }
       .bookkeeping { font-size: 0.8em; margin: 2em 0; }
       .bookkeeping p { margin: 0.5em 2em; display: list-item; list-style: square; }
       .bookkeeping dt { margin: 0.5em 2em 0; }
       .bookkeeping dd { margin: 0 3em 0.5em; }

       h4 { position: relative; z-index: 3; }
       h4 + .element, h4 + div + .element { margin-top: -2.5em; padding-top: 2em; }
       .element {
         background: #F4F4FA;
         color: black;
         margin: 0 0 1em 0.15em;
         padding: 0 1em 0.25em 0.75em;
         border-left: solid #9999FF 0.25em;
         position: relative;
         z-index: 1;
       }
       .element:before {
         position: absolute;
         z-index: 2;
         top: 0;
         left: -1.15em;
         height: 2em;
         width: 0.9em;
         background: #F4F4FA;
         content: ' ';
         border-style: none none solid solid;
         border-color: #9999FF;
         border-width: 0.25em;
       }

       .example { display: block; color: #222222; background: #FCFCFC; border-left-style: solid;border-color:#c0c0c0; border-left-width: 0.25em; margin-left: 1em; padding-left: 1em;padding-bottom: 0.5em;}
       div.example:before { content: 'Code Example: '; font-weight: bolder;}
       td > .example:only-child { margin: 0 0 0 0.1em; }

       ul.domTree, ul.domTree ul { padding: 0 0 0 1em; margin: 0; }
       ul.domTree li { padding: 0; margin: 0; list-style: none; position: relative; }
       ul.domTree li li { list-style: none; }
       ul.domTree li:first-child::before { position: absolute; top: 0; height: 0.6em; left: -0.75em; width: 0.5em; border-style: none none solid solid; content: ''; border-width: 0.1em; }
       ul.domTree li:not(:last-child)::after { position: absolute; top: 0; bottom: -0.6em; left: -0.75em; width: 0.5em; border-style: none none solid solid; content: ''; border-width: 0.1em; }
       ul.domTree span { font-style: italic; font-family: serif; }
       ul.domTree .t1 code { color: purple; font-weight: bold; }
       ul.domTree .t2 { font-style: normal; font-family: monospace; }
       ul.domTree .t2 .name { color: black; font-weight: bold; }
       ul.domTree .t2 .value { color: blue; font-weight: normal; }
       ul.domTree .t3 code, .domTree .t4 code, .domTree .t5 code { color: gray; }
       ul.domTree .t7 code, .domTree .t8 code { color: green; }
       ul.domTree .t10 code { color: teal; }

       body.dfnEnabled dfn { cursor: pointer; }
       .dfnPanel {
         display: inline;
         position: absolute;
         z-index: 10;
         height: auto;
         width: auto;
         padding: 0.5em 0.75em;
         font: small sans-serif, Droid Sans Fallback;
         background: #DDDDDD;
         color: black;
         border: outset 0.2em;
       }
       .dfnPanel * { margin: 0; padding: 0; font: inherit; text-indent: 0; }
       .dfnPanel :link, .dfnPanel :visited { color: black; }
       .dfnPanel p { font-weight: bolder; }
       .dfnPanel * + p { margin-top: 0.25em; }
       .dfnPanel li { list-style-position: inside; }

       #configUI { position: absolute; z-index: 20; top: 10em; right: 1em; width: 11em; font-size: small; }
       #configUI p { margin: 0.5em 0; padding: 0.3em; background: #EEEEEE; color: black; border: inset thin; }
       #configUI p label { display: block; }
       #configUI #updateUI, #configUI .loginUI { text-align: center; }
       #configUI input[type=button] { display: block; margin: auto; }

       fieldset { margin: 1em; padding: 0.5em 1em; }
       fieldset > legend + * { margin-top: 0; }
       fieldset > :last-child { margin-bottom: 0; }
       fieldset p { margin: 0.5em 0; }
       header p.subline {color:#005A9C; font: 140% sans-serif;margin: 0.75em 0;}
       #authorButton {overflow: visible; padding: 0.1em 0.3em; position: fixed; right: 2em; top: 6em; width: auto;}

       @media print {#authorButton { display:none;}}

   .stability {
     position: fixed;
     bottom: 0;
     left: 0; right: 0;
     margin: 0 auto 0 auto;
     width: 50%;
     background: maroon; color: yellow;
     -webkit-border-radius: 1em 1em 0 0;
     -moz-border-radius: 1em 1em 0 0;
     border-radius: 1em 1em 0 0;
     -moz-box-shadow: 0 0 1em #500;
     -webkit-box-shadow: 0 0 1em #500;
     box-shadow: 0 0 1em red;
     padding: 0.5em 1em;
     text-align: center;
   }
   .stability strong {
     display: block;
   }
   .stability input {
     -moz-appearance: none; -webkit-appearance: none; margin: 0; 
     border: 0; padding: 0.25em 0.5em; background: transparent; color: black;
     position: absolute; top: -0.5em; right: 0; font: 1.25em sans-serif; text-align: center;
   }
   .stability input:hover {
     color: white;
     text-shadow: 0 0 2px black;
   }
   .stability input:active {
     padding: 0.3em 0.45em 0.2em 0.55em;
   }
   .stability :link, .stability :visited,
   .stability :link:hover, .stability :visited:hover {
     background: transparent;
     color: white;
   }

  </style><!-- style switcher script by Stommepoes  --><link href="https://www.w3.org/StyleSheets/TR/W3C-REC" rel="stylesheet" type="text/css"><link href="https://www.w3.org/TR/2018/SPSD-html5-20180327/superseded.css" rel="stylesheet" type="text/css"><link href="switcher/author-view.css" id="author-view" rel="alternate stylesheet" title="Author documentation only"><script src="switcher/authorstylesheet.js"></script><link href="webappapis.html" rel="prev" title="6 Web application APIs">
  <link href="Overview.html#contents" rel="contents" title="目次">
  <link href="syntax.html" rel="next" title="8 The HTML syntax">
  <body class="split chapter" onload="fixBrokenLink();"><div class="head" id="head">
<header><span id="styleSwitch"></span>
   <p><a href="http://www.w3.org/"><img alt="W3C" height="48" src="http://www.w3.org/Icons/w3c_home" width="72"></a></p>

    <h1 id="big-title">HTML5日本語訳</h1>
    <p class="no-num no-toc subline">HTMLとXHTMLのための語彙と関連API</p>
   <h2 class="no-num no-toc" id="w3c-recommendation-28-october-2014">W3C Recommendation 28 October 2014</h2>
   </header></div>
  

  <nav class="prev_next">
   <a href="webappapis.html">← 6 ウェブアプリケーションAPI</a> – <a href="Overview.html#contents">目次</a> – <a href="syntax.html">8 HTML構文 →</a>
  <ol class="toc"><li><a href="editing.html#editing"><span class="secno">7</span> ユーザーとの対話処理</a>
  <ol><li><a href="editing.html#the-hidden-attribute"><span class="secno">7.1</span> <code>hidden</code>属性</a></li><li><a href="editing.html#inert-subtrees"><span class="secno">7.2</span> 不活性サブツリー</a></li><li><a href="editing.html#activation"><span class="secno">7.3</span> アクティベーション</a></li><li><a href="editing.html#focus"><span class="secno">7.4</span> フォーカス</a>
    <ol><li><a href="editing.html#sequential-focus-navigation-and-the-tabindex-attribute"><span class="secno">7.4.1</span> シーケンシャルフォーカスナビゲーションと<code data-anolis-xref="attr-tabindex">tabindex</code>属性</a></li><li><a href="editing.html#focus-management"><span class="secno">7.4.2 </span>Focus management</a></li><li><a href="editing.html#document-level-focus-apis"><span class="secno">7.4.3</span> 文書レベルフォーカスAPI</a></li><li><a href="editing.html#element-level-focus-apis"><span class="secno">7.4.4</span> 要素レベルフォーカスAPI</a></li></ol></li><li><a href="editing.html#assigning-keyboard-shortcuts"><span class="secno">7.5</span> キーボードショートカットの割り当て</a>
    <ol><li><a href="editing.html#introduction-5"><span class="secno">7.5.1</span> 導入</a></li><li><a href="editing.html#the-accesskey-attribute"><span class="secno">7.5.2</span> <code>accesskey</code>属性</a></li><li><a href="editing.html#processing-model-4"><span class="secno">7.5.3 </span>Processing model</a></li></ol></li><li><a href="editing.html#editing-0"><span class="secno">7.6</span> 編集</a>
    <ol><li><a href="editing.html#contenteditable"><span class="secno">7.6.1</span> 編集可能な文書領域を作成する：<code data-anolis-xref="attr-contenteditable">contenteditable</code>コンテンツ属性</a></li><li><a href="editing.html#making-entire-documents-editable:-the-designmode-idl-attribute"><span class="secno">7.6.2</span> 文書全体を編集可能にする：<code data-anolis-xref="dom-document-designMode">designMode</code>IDL属性</a></li><li><a href="editing.html#best-practices-for-in-page-editors"><span class="secno">7.6.3</span> ページ内編集者のためのベストプラクティス</a></li><li><a href="editing.html#editing-apis"><span class="secno">7.6.4</span> 編集API</a></li><li><a href="editing.html#spelling-and-grammar-checking"><span class="secno">7.6.5</span> スペルと文法チェック</a></li></ol></li></ol></li></ol></nav>
<!-- warning -->
<style>
/* Put .annoying-warning in a red box fixed at the bottom of the
viewport. Adding INPUT and LABEL as below allows the box to be clicked
away, after which it will appear inline:

   <INPUT ID=annoying-warning TYPE=CHECKBOX TITLE="hide warning">
   <LABEL FOR=annoying-warning>(hide)</LABEL> <DIV
   CLASS=annoying-warning> <P><STRONG>Warning:</STRONG> Text of the
   warning...  </DIV>

*/

.annoying-warning {
    background: #fdd;
    color: red;
    font-weight: bold;
    padding: .75em 1em;
    border: solid red;
    border-radius: 1em;
    margin-top: 1.2em;
}
.annoying-warning :last-child {margin-bottom: 0}
.annoying-warning :first-child {margin-top: 0}
#annoying-warning, #annoying-warning + * {display: none}

@media screen {
    #annoying-warning:not(:checked) + * + * {position: fixed; z-index: 3;
	bottom: 2em; left: 1em; right: 1em; text-align: center;
	box-shadow: 0 2px 8px black; border-radius: 1em}
    #annoying-warning:not(:checked), #annoying-warning:not(:checked) + * {
	display: block; position: fixed; z-index: 4}
    #annoying-warning {font-size: 1em; bottom: 2.3em; right: 1.5em;
	margin: 0}
    #annoying-warning + * {font-size: 80%; bottom: 2.5em; right: 3.3em}
    html {margin-bottom: 15em}
}
</style>
<div> <input id=annoying-warning type=checkbox title="hide note"> <label for=annoying-warning>(隠す)</label> <div class=annoying-warning> <p>訳注: この文書はSuperseded Recommendationとして<strong>廃止</strong>された仕様です。この日本語訳は歴史的な意味しか持ちません。WHATWGによる最新の<a href="https://html.spec.whatwg.org/multipage/">HTML仕様</a>を参照ください。<p><a href="https://momdo.github.io/html/">WHATWG HTML日本語訳</a>も参照することができます。</div> </div>
<!-- /warning -->

  <h2 id="editing"><span class="secno">7</span> <dfn>ユーザーとの対話処理</dfn></h2>

  <h3 id="the-hidden-attribute"><span class="secno">7.1</span> <dfn data-anolis-xref="attr-hidden" id="attr-hidden"><code>hidden</code></dfn>属性</h3>

  <p>すべての<a href="infrastructure.html#html-elements">HTML要素</a>は<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>コンテンツ属性設定を持ってもよい。<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>属性は<a href="infrastructure.html#boolean-attribute">真偽属性</a>である。要素で指定される場合、それは、要素がまだないこと、またはもはやページの現在の状態には直接関係がない、または、ユーザーが直接アクセスするのとは対照的に、ページの他の部分で再利用するコンテンツを宣言するために使用されていることを示す。<span class="impl">User agents should not render elements that have the <code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code> attribute specified. This requirement may be implemented indirectly through the style layer. For example, an HTML+CSS user agent could implement these requirements <a href="rendering.html#hiddenCSS">using the rules suggested in the Rendering section</a>.</span></p>

  <p class="note">この属性は通常CSSを使用して実装されているため、CSSを使用して上書きすることもできる。たとえば、'display: block'をすべての要素に適用する規則は、<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>属性の影響を相殺するだろう。したがって著者は、期待通りに属性がスタイル付けされていることを確認し、そのスタイルシートを書く際に注意する必要がある。</p>

  <div class="example">

   <p>以下の骨格の例において、属性は、ユーザーがログインするまでウェブゲームのメイン画面を非表示にするために使用される：</p>

   <pre>  &lt;h1&gt;The Example Game&lt;/h1&gt;
  &lt;section id="login"&gt;
   &lt;h2&gt;Login&lt;/h2&gt;
   &lt;form&gt;
    ...
    &lt;!-- calls login() once the user's credentials have been checked --&gt;
   &lt;/form&gt;
   &lt;script&gt;
    function login() {
      // switch screens
      document.getElementById('login').hidden = true;
      document.getElementById('game').hidden = false;
    }
   &lt;/script&gt;
  &lt;/section&gt;
  &lt;section id="game" hidden&gt;
   ...
  &lt;/section&gt;</pre>

  </div>

  <p><code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>属性は、別のプレゼンテーションに合法的に示すことができたコンテンツを隠すために使用されてはならない。たとえば、タブ付きインターフェースは単にオーバーフロープレゼンテーションの一種であるため、タブ付きダイアログでパネルを隠すために<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>を使用することは誤りである。―それはスクロールバーをもつ1つの大きなページ内のすべてのフォームコントロールを示すのと同様である。ちょうど1つのプレゼンテーションからコンテンツを非表示にするためにこの属性を使用することも同様に誤りである。―何かが<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>とマークされる場合、それは、たとえばプリンタなどを含む、すべてのプレゼンテーションから隠されている。</p><!--bug
  19406--><!-- for example, "<a hidden href=#content>Skip to content</a>" would be inappropriate. --><!-- (but only add that example if you first add some more good valid examples -->

  
  

  <p>自身が<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>でない要素は、<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>である要素へ<a href="links.html#hyperlink">ハイパーリンク</a>されてはならない。自身が<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>でない<code><a href="forms.html#the-label-element">label</a></code>および<code><a href="forms.html#the-output-element">output</a></code>要素の<code data-anolis-xref="">for</code>属性も同様に、<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>である要素を参照してはならない。どちらの場合も、このような参照はユーザーの混乱を引き起こすだろう。</p>

  <p>しかし、要素およびスクリプトは、他のコンテキストで<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>である要素を参照してもよい。</p>
  <div class="example">

   <p>たとえば、<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>属性でマークされたセクションにリンクする<code data-anolis-xref="attr-hyperlink-href"><a href="links.html#attr-hyperlink-href">href</a></code>属性を使用するのは誤りだろう。コンテンツが適切または関連しない場合、それにリンクする理由はない。</p>

   <p>しかし、自身が<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>である説明を参照するために、ARIA <code data-anolis-xref="attr-aria-describedby">aria-describedby</code>属性を使用することは構わないだろう。説明を非表示にすることはそれらが単独で有用でないことを意味する一方で、それらは、それらが説明する画像から参照される特定のコンテキストにおいて有用である方法で記述することもできる。</p>

   <p>同様に、<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>属性を持つ<code><a href="scripting-1.html#the-canvas-element">canvas</a></code>要素は、オフスクリーンバッファとしてスクリプト化されたグラフィックスエンジンによって使用されるかもしれず、フォームコントロールは、<code data-anolis-xref="attr-fae-form"><a href="forms.html#attr-fae-form">form</a></code>属性を使用する隠し<code><a href="forms.html#the-form-element">form</a></code>要素を参照するかもしれない。</p>

  </div>

  <p>アクセシビリティーAPIは、デフォルトのビューで非表示としてマークする間構造化されたコンテンツを公開する方法を提供することを推奨する。このようなコンテンツは、支援技術（AT）またはメインストリームのユーザーエージェントを使用しているかどうか、任意の様式で、通常の文書フローでユーザーに知覚できるようにすべきでない。</p>

  <p>このような機能が利用可能な際、このようなコンテンツが<a data-anolis-xref="concept-id" href="infrastructure.html#concept-id">ID参照</a>または<a href="infrastructure.html#valid-hash-name-reference">妥当なハッシュ名参照</a>によって間接的に参照されるならば、適切な場合に、ユーザーエージェントは、ATに<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>要素の完全なセマンティックを公開するためにそれらを使用してもよい。これは、通常のドキュメントフローに属するすべてのプレゼンテーションで隠されたコンテンツを維持しながら、ATが、ユーザーの要求に応じて、これらの<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>要素の構造にアクセスできる。<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>要素のユーザー起動の表示を防ぎたい著者は、そのような機構を持つ要素を参照すべきでない。</p>

  <p class="auth">ATへそのようなコンテンツを公開する際に一部のユーザーエージェントは非表示コンテンツを平坦化しているので、著者は、平坦化する際に不可欠な意味を失う<code title="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>内容を参照すべきでない。</p>

  <div class="example">

   <p>たとえば、<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>属性でマークされたセクションにリンクする<code data-anolis-xref="attr-hyperlink-href"><a href="links.html#attr-hyperlink-href">href</a></code>属性を使用するのは誤りだろう。コンテンツが適切または関連しない場合、それにリンクする理由はない。</p>

   <p>しかし、自身が<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>である説明を参照するために、ARIA <code data-anolis-xref="attr-aria-describedby">aria-describedby</code>属性を使用することは構わないだろう。説明を非表示にすることはそれらが単独で有用でないことを意味する一方で、それらは、それらが説明する画像から参照される特定のコンテキストにおいて有用である方法で記述することもできる。</p>

   <p>同様に、<code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>属性を持つ<code><a href="scripting-1.html#the-canvas-element">canvas</a></code>要素は、オフスクリーンバッファとしてスクリプト化されたグラフィックスエンジンによって使用されるかもしれず、フォームコントロールは、<code data-anolis-xref="attr-fae-form"><a href="forms.html#attr-fae-form">form</a></code>属性を使用する隠し<code><a href="forms.html#the-form-element">form</a></code>要素を参照するかもしれない。</p>

  </div>

  <p><code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code>属性によって非表示にされたセクション内の要素は依然としてアクティブである。たとえば、そのようなセクションでのスクリプトやフォームコントロールは、依然として実行および送信する。それらのプレゼンテーションのみがユーザーに変更される。</p>

  <div class="impl">

  <p>The <dfn data-anolis-xref="dom-hidden" id="dom-hidden"><code>hidden</code></dfn> IDL attribute must <a href="infrastructure.html#reflect">reflect</a>
  the content attribute of the same name.</p>

  </div>



  <h3 id="inert-subtrees"><span class="secno">7.2</span> 不活性サブツリー</h3><!--CLEANUP-->


  <p>（特に要素やテキストノード）あるノードは<dfn id="inert">不活性</dfn>としてマークできる。ノードが<a href="#inert">不活性</a>であるとき、あたかもノードがユーザーインタラクションイベントを対象する目的のために不在であるかのように、ユーザーエージェントは動作しなければならず、テキスト検索ユーザーインターフェース（一般に"ページ内検索"として知られる）の目的に対してノードを無視してもよく、そのノード内のテキストの選択からユーザーを防いでもよい。しかし、ユーザーエージェントは、ユーザーが検索とテキスト選択に制限を上書きできるようにすべきである。</p>

  <p class="example">たとえば、<code><a href="sections.html#the-body-element">body</a></code>の中央に位置する単一の<a href="#inert">不活性</a>段落からなるページを考えてみる。ユーザーが<code><a href="sections.html#the-body-element">body</a></code>上から<a href="#inert">不活性</a>段落へポインティングデバイスを移動させ、段落上をクリックする場合、<code data-anolis-xref="event-mouseover">mouseover</code>イベントは発火せず、<code data-anolis-xref="event-mousemove">mousemove</code>および<code data-anolis-xref="event-click"><a href="infrastructure.html#event-click">click</a></code>イベントは段落よりむしろ<code><a href="sections.html#the-body-element">body</a></code>要素で発火するだろう。</p><!--CLEANUP-->


  <p class="note">ノードが不活性である場合、ノードはまた<a href="#focusable">フォーカス可能</a>ではない。</p>

  <p><code><a href="dom.html#document">Document</a></code>全体は、<dfn id="blocked-by-a-modal-dialog">モーダルダイアログダイアログによってブロックされる</dfn><var data-anolis-xref="">subject</var>としてマークできる。<code><a href="dom.html#document">Document</a></code>がそのようにマークされている一方で、<var data-anolis-xref="">subject</var>要素およびその子孫を除いて、<a data-anolis-xref="in a Document" href="infrastructure.html#in-a-document"><code>Document</code>内の</a>すべてのノードは、<a href="#inert">不活性</a>とマークされなければならない。（この段落で除外される要素は、さらに他の手段を介して<a href="#inert">不活性</a>にマークすることができる。モーダルダイアログの一部であることは<a href="#inert">不活性</a>とマークされることからノードを"守る"ことはない。）</p>

  <p>一度に1つのみ要素が<a href="#blocked-by-a-modal-dialog">モーダルダイアログによってブロック</a>されているとして<code><a href="dom.html#document">Document</a></code>をマークすることができる。</p><!--TOPIC:DOM APIs-->



  <h3 id="activation"><span class="secno">7.3</span> アクティベーション</h3><!-- v2 idea: HTMLImageElement.click(x, y); or clickPoint(), if click() can't be done in IE; can
       this be emulated in IE by posting a synthetic mouse click event with those X and Y coords?
       (ack Csaba Gabor)
  -->

  

  <dl class="domintro"><dt><var data-anolis-xref="">element</var> . <code data-anolis-xref="dom-click"><a href="#dom-click">click</a></code>()</dt>

   <dd>

    <p>あたかも要素をクリックされたかのように動作する。</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn data-anolis-xref="dom-click" id="dom-click"><code>click()</code></dfn> method must <a href="dom.html#run-synthetic-click-activation-steps">run synthetic click
  activation steps</a> on the element.</p>

  </div><!--TOPIC:HTML-->



  <h3 id="focus"><span class="secno">7.4</span> フォーカス</h3><!-- http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%20%0A...%3Cform%3E%3Cinput%20name%3Da%20onfocus%3D%22value%2B%3D1%3Bd.name%3D%27a%27%3Bname%3D%27d%27%3Bb.focus()%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22value%2B%3D1%3Bc.focus()%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22value%2B%3D1%3Bd.focus()%22%3E%0A%3Cinput%20name%3Dd%20onfocus%3D%22value%2B%3D1%3Ba.focus()%22%3E --><!-- http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af1%20%27%3Bb.focus()%3Balert(document.activeElement.name)%3Bt.value%2B%3D%27af2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E%0A%3Cinput%20name%3Dc%20onfocus%3D%22t.value%2B%3D%27cf1%20%27%3Bc.focus()%3Bt.value%2B%3D%27cf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27cb%20%27%3B%22%3E%0A --><!-- http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%20onload%3D%22document.forms%5B0%5D.a.focus()%22%3E%0A...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onblur%3D%22t.value%2B%3D'ab%20'%3B%20b.focus()%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D'bf1%20'%3Ba.focus()%3Bt.value%2B%3D'bf2%20'%3B%22%20onblur%3D%22t.value%2B%3D'bb%20'%3B%22%3E --><!-- http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cbody%3E...%3Cform%3E%0A%3Ctextarea%20name%3Dt%20cols%3D100%20rows%3D3%3E%3C%2Ftextarea%3E%3Cp%3E%0A%3Cinput%20name%3Da%20onfocus%3D%22t.value%2B%3D%27af%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27ab1%20%27%3Bb.focus()%3Bt.value%2B%3D%27ab2%20%27%3B%22%3E%0A%3Cinput%20name%3Db%20onfocus%3D%22t.value%2B%3D%27bf1%20%27%3Ba.focus()%3Bt.value%2B%3D%27bf2%20%27%3B%22%20onblur%3D%22t.value%2B%3D%27bb%20%27%3B%22%3E --><!-- v2: more things to define, if no other specs define them:
   - define onfocus/onblur behaviour for Window
   - Other things to look at are IE's focus APIs (HTMLElement.setActive(),
     onBeforeActivate, onActivate, onBeforeDeactivate, onDeactivate):
       https://bugzilla.mozilla.org/show_bug.cgi?id=296471
       https://bugzilla.mozilla.org/show_bug.cgi?id=296469
       http://msdn.microsoft.com/workshop/author/dhtml/reference/methods/setactive.asp
       http://msdn.microsoft.com/workshop/author/dhtml/reference/events/onbeforeactivate.asp
  -->

  

  

  

  

  

  <div class="impl">

  <p>When an element is <i>focused</i>, key events received by the document must be targeted at that
  element. There may be no element focused; when no element is focused, key events received by the
  document must be targeted at <a href="dom.html#the-body-element-0">the body element</a>, if there is one, or else at the
  <code><a href="dom.html#document">Document</a></code>'s root element, if there is one. If there is no root element, key events
  must not be fired.</p>

  <p>User agents may track focus for each <a href="browsers.html#browsing-context">browsing context</a> or <code><a href="dom.html#document">Document</a></code>
  individually, or may support only one focused element per <a href="browsers.html#top-level-browsing-context">top-level browsing context</a>
  — user agents should follow platform conventions in this regard.</p>

  <p>Which elements within a <a href="browsers.html#top-level-browsing-context">top-level browsing context</a> currently have focus must be
  independent of whether or not the <a href="browsers.html#top-level-browsing-context">top-level browsing context</a> itself has the <i>system
  focus</i>.</p>

  <p id="bc-focus-ergo-bcc-focus">When a <a href="browsers.html#child-browsing-context">child browsing context</a> is focused, its
  <a href="browsers.html#browsing-context-container">browsing context container</a> must also have focus.</p>

  <p class="note">When an element is focused, the element matches the CSS <code>:focus</code>
  pseudo-class.</p>

  </div>


  <h4 id="sequential-focus-navigation-and-the-tabindex-attribute"><span class="secno">7.4.1</span> シーケンシャルフォーカスナビゲーションと<code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code>属性</h4>

  <p><dfn data-anolis-xref="attr-tabindex" id="attr-tabindex"><code>tabindex</code></dfn>コンテンツ属性は、著者が、要素がフォーカスできることを仮定するかどうか、それが順次フォーカスナビゲーションを使用して到達することを仮定するかどうか、何がシーケンシャルフォーカスナビゲーションのための要素の相対的な順序になるかを制御できる。名前"tab index"は、フォーカス可能な要素を通してナビゲートする"tab"キーの一般的な使用方法から来ている。用語"tabbing"は、順次フォーカスナビゲーションを使用して到達することができるフォーカス可能な要素を前方に移動することを指す。</p>

  <p><code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code>属性が指定される場合、<a href="infrastructure.html#valid-integer">妥当な整数</a>である値を持たなければならない。</p>

  <div class="impl">

  <p>Each element can have a <dfn id="specially-focusable">tabindex focus flag</dfn> set, as defined
  below. This flag is a factor that contributes towards determining whether an element is
  <a href="#focusable">focusable</a>, as described in the next section.</p>

  <p>If the attribute is specified, it must be parsed using the <a href="infrastructure.html#rules-for-parsing-integers">rules for parsing
  integers</a>. The attribute's values have the following meanings:</p>

  <dl><dt>If the attribute is omitted or parsing the value returns an error</dt>

   <dd>

    <p>The user agent should follow platform conventions to determine if the element's
    <a href="#specially-focusable">tabindex focus flag</a> is set and, if so, whether the element can be reached using
    sequential focus navigation, and if so, what its relative order should be.</p>

    <p>Modulo platform conventions, it is suggested that for the following elements, the
    <a href="#specially-focusable">tabindex focus flag</a> be set:</p>

    <ul><li><code><a href="text-level-semantics.html#the-a-element">a</a></code> elements that have an <code data-anolis-xref="attr-hyperlink-href"><a href="links.html#attr-hyperlink-href">href</a></code>
     attribute</li>

     <li><code><a href="document-metadata.html#the-link-element">link</a></code> elements that have an <code data-anolis-xref="attr-link-href"><a href="document-metadata.html#attr-link-href">href</a></code> attribute</li>

     <li><code><a href="forms.html#the-button-element">button</a></code> elements</li>

     <li><code><a href="forms.html#the-input-element">input</a></code> elements whose <code data-anolis-xref="attr-input-type"><a href="forms.html#attr-input-type">type</a></code> attribute are
     not in the <a data-anolis-xref="attr-input-type-hidden" href="forms.html#hidden-state-(type=hidden)">Hidden</a> state</li>

     <li><code><a href="forms.html#the-select-element">select</a></code>要素</li>

     <li><code><a href="forms.html#the-textarea-element">textarea</a></code>要素</li>

     <li><a data-anolis-xref="editing host" href="#editing-host">Editing hosts</a></li>

     <li><a data-anolis-xref="browsing context container" href="browsers.html#browsing-context-container">Browsing context containers</a></li><!-- like
     <iframe>s --> 

    </ul><p class="note">One valid reason to ignore the platform conventions and always allow an element
    to be focused (by setting its <a href="#specially-focusable">tabindex focus flag</a>) would be if the user's only
    mechanism for activating an element is through a keyboard action that triggers the focused
    element.</p>

   </dd>

   <dt id="negative-tabindex">If the value is a negative integer</dt>

   <dd>

    <p>The user agent must set the element's <a href="#specially-focusable">tabindex focus flag</a>, but should not allow
    the element to be reached using sequential focus navigation.</p>

    <p class="note">One valid reason to ignore the requirement that sequential focus navigation not
    allow the author to lead to the element would be if the user's only mechanism for moving the
    focus is sequential focus navigation. For instance, a keyboard-only user would be unable to
    click on a text field with a negative <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code>, so that
    user's user agent would be well justified in allowing the user to tab to the control
    regardless.</p>

   </dd>

   <dt>If the value is a zero</dt>

   <dd>

    <p>The user agent must set the element's <a href="#specially-focusable">tabindex focus flag</a>, should allow the
    element to be reached using sequential focus navigation, and should follow platform conventions
    to determine the element's relative order.</p>

   </dd>

   <dt>If the value is greater than zero</dt>

   <dd>

    <p>The user agent must set the element's <a href="#specially-focusable">tabindex focus flag</a>, should allow the
    element to be reached using sequential focus navigation, and should place the element in the
    sequential focus navigation order so that it is:</p>

    <ul><li>before any <a href="#focusable">focusable</a> element whose <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code>
     attribute has been omitted or whose value, when parsed, returns an error,</li>

     <li>before any <a href="#focusable">focusable</a> element whose <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code>
     attribute has a value equal to or less than zero,</li>

     <li>after any element whose <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute has a value
     greater than zero but less than the value of the <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code>
     attribute on the element,</li>

     <li>after any element whose <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute has a value
     equal to the value of the <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute on the element
     but that is earlier in the document in <a href="infrastructure.html#tree-order">tree order</a> than the element,</li>

     <li>before any element whose <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute has a value
     equal to the value of the <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute on the element
     but that is later in the document in <a href="infrastructure.html#tree-order">tree order</a> than the element, and</li>

     <li>before any element whose <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute has a value
     greater than the value of the <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute on the
     element.</li>

    </ul></dd>

  </dl><p>An element that has its <a href="#specially-focusable">tabindex focus flag</a> set but does not otherwise have an
  <a href="dom.html#activation-behavior">activation behavior</a> defined has an <a href="dom.html#activation-behavior">activation behavior</a> that does
  nothing.</p>

  <p class="note">This means that an element that is only focusable because of its <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute will fire a <code data-anolis-xref="event-click"><a href="infrastructure.html#event-click">click</a></code>
  event in response to a non-mouse activation (e.g. hitting the "enter" key while the element is
  focused).</p>

  <p>The <dfn data-anolis-xref="dom-tabIndex" id="dom-tabindex"><code>tabIndex</code></dfn> IDL attribute must
  <a href="infrastructure.html#reflect">reflect</a> the value of the <code data-anolis-xref="attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> content
  attribute. Its default value is 0 for elements that are focusable and −1 for elements that
  are not focusable.</p>

  </div>



  <div class="impl">

  <h4 id="focus-management"><span class="secno">7.4.2 </span>Focus management</h4>

  <p>An element is <dfn id="focusable">focusable</dfn> if all of the following conditions are met:</p>

  <ul><li>The element's <a href="#specially-focusable">tabindex focus flag</a> is set.</li>

   <li>The element is either <a href="rendering.html#being-rendered">being rendered</a> or  <!-- CANVAS-FOCUS-FALLBACK -->  is a
   descendant of a <code><a href="scripting-1.html#the-canvas-element">canvas</a></code> element that <a href="dom.html#represents">represents</a> <a href="dom.html#embedded-content-2">embedded
   content</a>.</li>

   <li>The element is not <a href="#inert">inert</a>.</li>

   <li>The element is not <a data-anolis-xref="concept-element-disabled" href="disabled-elements.html#concept-element-disabled">disabled</a>.</li>

  </ul><p>In addition, each shape that is generated for an <code><a href="embedded-content-0.html#the-area-element">area</a></code> element, any
  user-agent-provided interface components of <a data-anolis-xref="media element" href="embedded-content-0.html#media-element">media elements</a>
  (e.g. a play button), and distinct user interface components of form controls (e.g. "up" and
  "down" buttons on an <code data-anolis-xref="attr-input-type-number"><a href="forms.html#number-state-(type=number)">&lt;input type=number&gt;</a></code> spin
  control), should be <a href="#focusable">focusable</a>, unless platform conventions dictate otherwise or
  unless their corresponding element is <a data-anolis-xref="concept-element-disabled" href="disabled-elements.html#concept-element-disabled">disabled</a>. (A
  single <code><a href="embedded-content-0.html#the-area-element">area</a></code> element can correspond to multiple shapes, since image maps can be reused
  with multiple images on a page.)</p>

  <p>Notwithstanding the above, user agents may make <em>any</em> element or part of an element
  focusable, especially to aid with accessibility or to better match platform conventions.</p>

  <hr><p>The <dfn id="focusing-steps">focusing steps</dfn> for an element are as follows:</p>

  <ol><li><p>If the element is not <a data-anolis-xref="in a Document" href="infrastructure.html#in-a-document">in a <code>Document</code></a>, or if
   the element's <code><a href="dom.html#document">Document</a></code> has no <a href="browsers.html#browsing-context">browsing context</a>, or if the element's
   <code><a href="dom.html#document">Document</a></code>'s <a href="browsers.html#browsing-context">browsing context</a> has no <a href="browsers.html#top-level-browsing-context">top-level browsing
   context</a>, or if the element is not <a href="#focusable">focusable</a>, or if the element is already
   focused, then abort these steps.</p>

   </li><li><p>If focusing the element will remove the focus from another element, then run the
   <a href="#unfocusing-steps">unfocusing steps</a> for that element.</li>

   <li>

    <p>Make the element the currently focused element in its <a href="browsers.html#top-level-browsing-context">top-level browsing
    context</a>.</p>

    <p>Some elements, most notably <code><a href="embedded-content-0.html#the-area-element">area</a></code>, can correspond to more than one distinct
    focusable area. If a particular area was indicated when the element was focused, then that is
    the area that must get focus; otherwise, e.g. when using the <code data-anolis-xref="dom-focus"><a href="#dom-focus">focus()</a></code> method, the first such region in tree order is the one that
    must be focused.</p>

   </li>

   <li>

    <p>The user agent may apply relevant platform-specific conventions for focusing widgets.</p>

    <p class="note">For example, some platforms select the contents of a text field when that field
    is focused.</p>

   </li>

   <li><p><a href="webappapis.html#fire-a-simple-event">Fire a simple event</a> named <code data-anolis-xref="event-focus">focus</code> at the element.</li><!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723 -->
   

  </ol><p>User agents must synchronously run the <a href="#focusing-steps">focusing steps</a> for an element whenever the
  user moves the focus to a <a href="#focusable">focusable</a> element.</p>

  <p>The <dfn id="unfocusing-steps">unfocusing steps</dfn> for an element are as follows:</p>

  <ol><li><p>If the element is an <code><a href="forms.html#the-input-element">input</a></code> element, and the <code data-anolis-xref="event-input-change"><a href="forms.html#event-input-change">change</a></code> event applies to the element, and the element does not
   have a defined <a href="dom.html#activation-behavior">activation behavior</a>, and the user has changed the element's <a data-anolis-xref="concept-fe-value" href="forms.html#concept-fe-value">value</a> or its list of <a data-anolis-xref="concept-input-type-file-selected" href="forms.html#concept-input-type-file-selected">selected files</a> while the control was focused
   without committing that change, then <a href="webappapis.html#fire-a-simple-event">fire a simple event</a> that bubbles named <code data-anolis-xref="event-change">change</code> at the element.</p>

   </li><li><p>Unfocus the element.</li>

   <li><p><a href="webappapis.html#fire-a-simple-event">Fire a simple event</a> named <code data-anolis-xref="event-blur">blur</code> at the element.</li><!-- http://software.hixie.ch/utilities/js/live-dom-viewer/saved/723 -->
   

  </ol><p>When an element that is focused stops being a <a href="#focusable">focusable</a> element, or stops being
  focused without another element being explicitly focused in its stead, the user agent should
  synchronously run the <a href="#unfocusing-steps">unfocusing steps</a> for the affected element only.</p>

  <p class="example">For example, this might happen because the element is removed from its
  <code><a href="dom.html#document">Document</a></code>, or has a <code data-anolis-xref="attr-hidden"><a href="#the-hidden-attribute">hidden</a></code> attribute added. It would
  also happen to an <code><a href="forms.html#the-input-element">input</a></code> element when the element gets <a data-anolis-xref="concept-fe-disabled" href="forms.html#concept-fe-disabled">disabled</a>.</p>

  </div><!--TOPIC:DOM APIs-->



  <h4 id="document-level-focus-apis"><span class="secno">7.4.3</span> 文書レベルフォーカスAPI</h4>

  <dl class="domintro"><dt><var data-anolis-xref="">document</var> . <code data-anolis-xref="dom-document-activeElement"><a href="#dom-document-activeelement">activeElement</a></code></dt>

   <dd>

    <p>現在フォーカスのある要素を返す。</p>

   </dd>

   <dt><var data-anolis-xref="">document</var> . <code data-anolis-xref="dom-document-hasFocus"><a href="#dom-document-hasfocus">hasFocus</a></code>()</dt>

   <dd>

    <p>文書がフォーカスを持つ場合はtrueを返し、そうでなければfalseを返す。</p>

   </dd>

   <dt><var data-anolis-xref="">window</var> . <code data-anolis-xref="dom-window-focus"><a href="#dom-window-focus">focus</a></code>()</dt>

   <dd>

    <p>ウィンドウをフォーカスする。このメソッドの使用は推奨されない。代わりに、ユーザーがウィンドウのフォーカスを制御できる。</p>

   </dd>

   <dt><var data-anolis-xref="">window</var> . <code data-anolis-xref="dom-window-blur"><a href="#dom-window-blur">blur</a></code>()</dt>

   <dd>

    <p>ウィンドウをアンフォーカスする。このメソッドの使用は推奨されない。代わりに、ユーザーがウィンドウのフォーカスを制御できる。</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn data-anolis-xref="dom-document-activeElement" id="dom-document-activeelement"><code>activeElement</code></dfn> attribute on
  <code><a href="dom.html#document">Document</a></code> objects must return the element in the document that is focused. If no
  element in the <code><a href="dom.html#document">Document</a></code> is focused, this must return <a href="dom.html#the-body-element-0">the body
  element</a>.</p>

  <p class="note">When a <a href="browsers.html#child-browsing-context">child browsing context</a> is focused, its <a href="browsers.html#browsing-context-container">browsing context
  container</a> is also focused, <a href="#bc-focus-ergo-bcc-focus">by definition</a>. For
  example, if the user moves the focus to a text field in an <code><a href="embedded-content-0.html#the-iframe-element">iframe</a></code>, the
  <code><a href="embedded-content-0.html#the-iframe-element">iframe</a></code> is the element with focus in the <a href="browsers.html#parent-browsing-context">parent browsing context</a>.</p>

  <p>The <dfn data-anolis-xref="dom-document-hasFocus" id="dom-document-hasfocus"><code>hasFocus()</code></dfn> method on
  <code><a href="dom.html#document">Document</a></code> objects must return true if the <code><a href="dom.html#document">Document</a></code>'s <a href="browsers.html#browsing-context">browsing
  context</a> is focused, and all its <a data-anolis-xref="ancestor browsing context" href="browsers.html#ancestor-browsing-context">ancestor browsing
  contexts</a> are also focused, and the <a href="browsers.html#top-level-browsing-context">top-level browsing context</a> has the
  <i>system focus</i>. If the <code><a href="dom.html#document">Document</a></code> has no <a href="browsers.html#browsing-context">browsing context</a> or if its
  <a href="browsers.html#browsing-context">browsing context</a> has no <a href="browsers.html#top-level-browsing-context">top-level browsing context</a>, then the method will
  always return false.</p>

  <p>The <dfn data-anolis-xref="dom-window-focus" id="dom-window-focus"><code>focus()</code></dfn> method on the <code><a href="browsers.html#window">Window</a></code>
  object, when invoked, provides a hint to the user agent that the script believes the user might be
  interested in the contents of the <a href="browsers.html#browsing-context">browsing context</a> of the <code><a href="browsers.html#window">Window</a></code> object
  on which the method was invoked.</p>

  <p>User agents are encouraged to have this <code data-anolis-xref="dom-window-focus"><a href="#dom-window-focus">focus()</a></code> method
  trigger some kind of notification.</p>

  <p>The <dfn data-anolis-xref="dom-window-blur" id="dom-window-blur"><code>blur()</code></dfn> method on the <code><a href="browsers.html#window">Window</a></code>
  object, when invoked, provides a hint to the user agent that the script believes the user probably
  is not currently interested in the contents of the <a href="browsers.html#browsing-context">browsing context</a> of the
  <code><a href="browsers.html#window">Window</a></code> object on which the method was invoked, but that the contents might become
  interesting again in the future.</p>

  <p>User agents are encouraged to ignore calls to this <code data-anolis-xref="dom-window-blur"><a href="#dom-window-blur">blur()</a></code>
  method entirely.</p>

  <p class="note">Historically the <code data-anolis-xref="dom-window-blur"><a href="#dom-window-blur">focus()</a></code> and <code data-anolis-xref="dom-window-blur"><a href="#dom-window-blur">blur()</a></code> methods actually affected the system focus, but hostile
  sites widely abuse this behavior to the user's detriment.</p>

  </div>


  <h4 id="element-level-focus-apis"><span class="secno">7.4.4</span> 要素レベルフォーカスAPI</h4>

  <dl class="domintro"><dt><var data-anolis-xref="">element</var> . <code data-anolis-xref="dom-focus"><a href="#dom-focus">focus</a></code>()</dt>

   <dd>

    <p>要素をフォーカスする。</p>

   </dd>

   <dt><var data-anolis-xref="">element</var> . <code data-anolis-xref="dom-blur"><a href="#dom-blur">blur</a></code>()</dt>

   <dd>

    <p>要素をアンフォーカスする。このメソッドの使用は推奨されない。代わりに別の要素をフォーカスする。</p>

    <p>フォーカスリングを非表示にするためにこの方法を使用してはならない。キーボードユーザーからフォーカスリングを隠して他の方法を使用してはならない。特に、'outline'プロパティーを上書きするためにCSS規則を使用してはならない。フォーカスリングの除去は、ナビゲートするおよびキーボードを使用してインタラクティブなコンテンツを操作するユーザーに対して重大なアクセシビリティーの問題をもたらす。</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn data-anolis-xref="dom-focus" id="dom-focus"><code>focus()</code></dfn> method, when invoked, must run the
  following algorithm:</p>

  <ol><li><p>If the element is marked as <i><a href="#locked-for-focus">locked for focus</a></i>, then abort these steps.</li>

   <li><p>Mark the element as <dfn id="locked-for-focus">locked for focus</dfn>.</li>

   <li><p>Run the <a href="#focusing-steps">focusing steps</a> for the element.</li>

   <li><p>Unmark the element as <i><a href="#locked-for-focus">locked for focus</a></i>.</li>

  </ol><p>The <dfn data-anolis-xref="dom-blur" id="dom-blur"><code>blur()</code></dfn> method, when invoked, should run the
  <a href="#unfocusing-steps">unfocusing steps</a> for the element on which the method was called instead. User agents
  may selectively or uniformly ignore calls to this method for usability reasons.</p>

  <p class="example">For example, if the <code data-anolis-xref="dom-blur"><a href="#dom-blur">blur()</a></code> method is unwisely
  being used to remove the focus ring for aesthetics reasons, the page would become unusable by
  keyboard users. Ignoring calls to this method would thus allow keyboard users to interact with the
  page.</p>

  </div><!--TOPIC:HTML-->




  <h3 id="assigning-keyboard-shortcuts"><span class="secno">7.5</span> キーボードショートカットの割り当て</h3>

  <h4 id="introduction-5"><span class="secno">7.5.1</span> 導入</h4>

  <p><i>この節は非規範的である。</i></p>
  <p>アクティブまたはフォーカスさせることができる各要素は<code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code>属性を使用して、それをアクティブにするための単一のキーの組み合わせを割り当てることができる。</p>

  <p>正確なショートカットは、ユーザーエージェントによって決定され、ユーザーのキーボードに関する情報に基づき、どのキーボードショートカットが既にプラットフォーム上に存在し、他にどのようなショートカットがページ上で指定され、ガイドとして<code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code>属性に提供された情報を使用する。</p>

  <p>関連するキーボードショートカットが多種多様な入力デバイスで利用可能であることを確実にするために、著者は<code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code>属性で多数の選択肢を提供できる。</p>

  <p>各選択肢は、文字または数字のような、単一の文字で構成される。</p>

  <p>ユーザーエージェントは、キーボードショートカットの一覧をユーザーに提供できるが、著者は行うことも推奨される。<code data-anolis-xref="dom-accessKeyLabel"><a href="#dom-accesskeylabel">accessKeyLabel</a></code> IDL属性は、ユーザーエージェントによって割り当てられた実際のキーの組み合わせを表す文字列を返す。</p>

  <div class="example">

   <p>この例において、著者はショートカットキーを使用して呼び出すことができるボタンを提供してきた。フルキーボードをサポートするために、著者は可能なキーとして"C"を提供している。テンキーのみを搭載したデバイスをサポートするために、著者は別の可能なキーとして"1"を提供している。</p>

   <pre>&lt;input type=button value=Collect onclick="collect()"
       <strong>accesskey="C 1"</strong> id=c&gt;</pre>

  </div>

  <div class="example">

   <p>ショートカットキーが何であるかをユーザーに伝えるために、著者は明示的にボタンのラベルにキーの組み合わせを追加するために選択しているここでのこのスクリプトを持つ。</p>

   <pre>function addShortcutKeyLabel(button) {
<strong>  if (button.accessKeyLabel != '')
    button.value += ' (' + button.accessKeyLabel + ')';</strong>
}
addShortcutKeyLabel(document.getElementById('c'));</pre>

   <p>異なるプラットフォーム上のブラウザは、たとえ同じキーの組み合わせであっても、そのプラットフォーム上で普及している規則に基づいて異なるラベルを表示する。たとえば、キーの組み合わせが、Controlキー、Shiftキー、および文字Cである場合、Macのブラウザが"<samp>^⇧C</samp>"を表示するかもしれない一方で、Windowsのブラウザは"<samp>Ctrl+Shift+C</samp>"を表示するかもしれない。一方でEmacsのブラウザは単に"<samp>C-C</samp>"を表示するかもしれない。同様に、キーの組み合わせがAltキーとEscキーである場合、Windowsは"<samp>Alt+Esc</samp>"を使用するかもしれず、Macは"<samp>⌥⎋</samp>"を使用するかもしれず、Emacsのブラウザは、"<samp>M-ESC</samp>"または"<samp>ESC ESC</samp>"を使用するかもしれない。</p>

   <p>したがって、一般に、<code data-anolis-xref="dom-accessKeyLabel"><a href="#dom-accesskeylabel">accessKeyLabel</a></code>IDL属性から返された値を解析しようとするのは賢明ではない。</p>

  </div>


  <h4 id="the-accesskey-attribute"><span class="secno">7.5.2</span> <dfn data-anolis-xref="attr-accesskey" id="attr-accesskey"><code>accesskey</code></dfn>属性</h4>

  <p>すべての<a href="infrastructure.html#html-elements">HTML要素</a>は、<code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code>コンテンツ属性の設定を持ってもよい。<code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code>属性値は、要素をアクティブまたはフォーカスするキーボードショートカットを作成するためのガイドとして、ユーザーエージェントによって使用される。</p>

  <p>指定される場合、値は<a href="infrastructure.html#case-sensitive">大文字・小文字区別</a>である<a href="infrastructure.html#ordered-set-of-unique-space-separated-tokens">一意なスペース区切りトークンの順序付き集合</a>でなければならず、その各々が正確に1つのUnicodeコードポイントの長さでなければならない。</p>

  <div class="example">

   <p>次の例において、サイトを熟知するキーボードユーザーがより迅速に関連するページに移動できるよう、さまざまなリンクがアクセスキーとともに与えられる：</p>

   <pre>&lt;nav&gt;
 &lt;p&gt;
  &lt;a title="Consortium Activities" accesskey="A" href="/Consortium/activities"&gt;Activities&lt;/a&gt; |
  &lt;a title="Technical Reports and Recommendations" accesskey="T" href="/TR/"&gt;Technical Reports&lt;/a&gt; |
  &lt;a title="Alphabetical Site Index" accesskey="S" href="/Consortium/siteindex"&gt;Site Index&lt;/a&gt; |
  &lt;a title="About This Site" accesskey="B" href="/Consortium/"&gt;About Consortium&lt;/a&gt; |
  &lt;a title="Contact Consortium" accesskey="C" href="/Consortium/contact"&gt;Contact&lt;/a&gt;
 &lt;/p&gt;
&lt;/nav&gt;</pre>

  </div>

  <div class="example">

   <p>次の例において、検索フィールドは2つの可能なアクセスキー、"s"と"0"（この順番で）が与えられる。テンキー付きの小さなデバイス上のユーザーエージェントは単なる簡素なキー<kbd><kbd>0</kbd></kbd>を選ぶかもしれないが、フルキーボードを搭載したデバイスでのユーザーエージェントは、ショートカットキーとして<kbd><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd><a href="text-level-semantics.html#the-s-element">S</a></kbd></kbd>を選ぶかもしれない：</p>

   <pre>&lt;form action="/search"&gt;
 &lt;label&gt;Search: &lt;input type="search" name="q" accesskey="s 0"&gt;&lt;/label&gt;
 &lt;input type="submit"&gt;
&lt;/form&gt;</pre>

  </div>

  <div class="example">

   <p>次の例において、ボタンは説明可能なアクセスキーを持つ。このスクリプトは次に、ユーザーエージェントが選択したキーの組み合わせを通知するためにボタンのラベルの更新を試みる。</p>

   <pre>&lt;input type=submit accesskey="N @ 1" value="Compose"&gt;
...
&lt;script&gt;
 function labelButton(button) {
   if (button.accessKeyLabel)
     button.value += ' (' + button.accessKeyLabel + ')';
 }
 var inputs = document.getElementsByTagName('input');
 for (var i = 0; i &lt; inputs.length; i += 1) {
   if (inputs[i].type == "submit")
     labelButton(inputs[i]);
 }
&lt;/script&gt;</pre>

   <p>あるユーザーエージェントにおいて、ボタンのラベルは"<samp>Compose（⌘N）</samp>"になるかもしれない。別のものにおいて、これは"<samp>Compose（Alt+⇧+1）</samp>"になるかもしれない。ユーザーエージェントがキーを割り当てない場合、単に"<samp>Compose</samp>"になる。正確な文字列は<a href="#assigned-access-key">割り当てられるアクセスキー</a>が何であるか、およびどのようにユーザーエージェントがそのキーの組み合わせを表すかに依存する。</p>

  </div>


  <div class="impl">

  <h4 id="processing-model-4"><span class="secno">7.5.3 </span>Processing model</h4>

  <p>An element's <dfn id="assigned-access-key">assigned access key</dfn> is a key combination derived from the element's
  <code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code> content attribute. Initially, an element must not
  have an <a href="#assigned-access-key">assigned access key</a>.</p>

  <p>Whenever an element's <code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code> attribute is set, changed,
  or removed, the user agent must update the element's <a href="#assigned-access-key">assigned access key</a> by running
  the following steps:</p>

  <ol><li><p>If the element has no <code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code> attribute, then skip
   to the <i>fallback</i> step below.</li>

   <li><p>Otherwise, <a data-anolis-xref="split a string on spaces" href="infrastructure.html#split-a-string-on-spaces">split the attribute's value on
   spaces</a>, and let <var data-anolis-xref="">keys</var> be the resulting tokens.</li>

   <li>

    <p>For each value in <var data-anolis-xref="">keys</var> in turn, in the order the tokens appeared in the
    attribute's value, run the following substeps:</p>

    <ol><li><p>If the value is not a string exactly one Unicode code point in length, then skip the
     remainder of these steps for this value.</li>

     <li><p>If the value does not correspond to a key on the system's keyboard, then skip the
     remainder of these steps for this value.</li>

     <li><p>If the user agent can find a mix of zero or more modifier keys that, combined with the
     key that corresponds to the value given in the attribute, can be used as the access key, then
     the user agent may assign that combination of keys as the element's <a href="#assigned-access-key">assigned access
     key</a> and abort these steps.</li>

    </ol></li>

   <li><p><i>Fallback</i>: Optionally, the user agent may assign a key combination of its choosing
   as the element's <a href="#assigned-access-key">assigned access key</a> and then abort these steps.</li>

   <li><p>If this step is reached, the element has no <a href="#assigned-access-key">assigned access key</a>.</li>

  </ol><p>Once a user agent has selected and assigned an access key for an element, the user agent should
  not change the element's <a href="#assigned-access-key">assigned access key</a> unless the <code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code> content attribute is changed or the element is moved to
  another <code><a href="dom.html#document">Document</a></code>.</p>

  <p class="note">User agents might expose elements that have
  an <code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code> attribute in other ways as well, e.g. in a menu
  displayed in response to a specific key combination.</p><!-- the actual conformance criteria for
  this is in the section that defines commands --> 

  <hr><p>The <dfn data-anolis-xref="dom-accessKey" id="dom-accesskey"><code>accessKey</code></dfn> IDL attribute must
  <a href="infrastructure.html#reflect">reflect</a> the <code data-anolis-xref="attr-accesskey"><a href="#the-accesskey-attribute">accesskey</a></code> content attribute.</p>

  <p>The <dfn data-anolis-xref="dom-accessKeyLabel" id="dom-accesskeylabel"><code>accessKeyLabel</code></dfn> IDL attribute must return
  a string that represents the element's <a href="#assigned-access-key">assigned access key</a>, if any. If the element
  does not have one, then the IDL attribute must return the empty string.</p>

  </div>



  <h3 id="editing-0"><span class="secno">7.6</span> 編集</h3>

  <h4 id="contenteditable"><span class="secno">7.6.1</span> 編集可能な文書領域を作成する：<code data-anolis-xref="attr-contenteditable"><a href="#attr-contenteditable">contenteditable</a></code>コンテンツ属性</h4>

  <p><dfn data-anolis-xref="attr-contenteditable" id="attr-contenteditable"><code>contenteditable</code></dfn>属性は、キーワードが空文字列、<code data-anolis-xref="">true</code>、おとび<code data-anolis-xref="">false</code>となる<a href="infrastructure.html#enumerated-attribute">列挙属性</a>である。空の文字列および<i>true</i>キーワードは、<code data-anolis-xref="">true</code>状態に対応する。<i>false</i>キーワードは、<code data-anolis-xref="">false</code>状態に対応する。さらに、<i>inherit</i>状態という第3の状態が存在する。これは<i>欠落した値のデフォルト</i>（および<i>妥当でない値のデフォルト</i>）である。</p>

  <p><i>true</i>状態は、要素が編集可能であることを示す。<i>inherit</i>状態は、その親が存在する場合、要素が編集可能であることを示す。<i>false</i>状態は、要素が編集可能でないことを示す。</p>

  <dl class="domintro"><dt><var data-anolis-xref="">element</var> . <code data-anolis-xref="dom-contentEditable"><a href="#dom-contenteditable">contentEditable</a></code> [ = <var data-anolis-xref="">value</var> ]</dt>

   <dd>

    <p><code data-anolis-xref="attr-contenteditable"><a href="#attr-contenteditable">contenteditable</a></code>属性の状態に基づいて、"<code data-anolis-xref="">true</code>"、"<code data-anolis-xref="">false</code>"、または"<code data-anolis-xref="">inherit</code>"を返す。</p>

    <p>その状態を変更する設定が可能である。</p>

    <p>新しい値がこれらの文字列のいずれかでない場合、<code><a href="infrastructure.html#syntaxerror">SyntaxError</a></code>例外を投げる。</p>

   </dd>

   <dt><var data-anolis-xref="">element</var> . <code data-anolis-xref="dom-isContentEditable"><a href="#dom-iscontenteditable">isContentEditable</a></code></dt>

   <dd>

    <p>要素が編集可能な場合にtrueを返す。そうでなければfalseを返す。</p>

   </dd>

  </dl><div class="impl">

  <p>The <dfn data-anolis-xref="dom-contentEditable" id="dom-contenteditable"><code>contentEditable</code></dfn> IDL attribute, on
  getting, must return the string "<code data-anolis-xref="">true</code>" if the content attribute is set to
  the true state, "<code data-anolis-xref="">false</code>" if the content attribute is set to the false state,
  and "<code data-anolis-xref="">inherit</code>" otherwise. On setting, if the new value is an <a href="infrastructure.html#ascii-case-insensitive">ASCII
  case-insensitive</a> match for the string "<code data-anolis-xref="">inherit</code>" then the content
  attribute must be removed, if the new value is an <a href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for
  the string "<code data-anolis-xref="">true</code>" then the content attribute must be set to the string
  "<code data-anolis-xref="">true</code>", if the new value is an <a href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for
  the string "<code data-anolis-xref="">false</code>" then the content attribute must be set to the string
  "<code data-anolis-xref="">false</code>", and otherwise the attribute setter must throw a
  <code><a href="infrastructure.html#syntaxerror">SyntaxError</a></code> exception.</p>

  <p>The <dfn data-anolis-xref="dom-isContentEditable" id="dom-iscontenteditable"><code>isContentEditable</code></dfn> IDL attribute, on
  getting, must return true if the element is either an <a href="#editing-host">editing host</a> or
  <a href="#editable">editable</a>, and false otherwise.</p>

  </div>


  <h4 id="making-entire-documents-editable:-the-designmode-idl-attribute"><span class="secno">7.6.2</span> 文書全体を編集可能にする：<code data-anolis-xref="dom-document-designMode"><a href="#designMode">designMode</a></code>IDL属性</h4>

  <div class="impl">

  <p>Documents have a <dfn data-anolis-xref="dom-document-designMode" id="designMode"><code>designMode</code></dfn>, which can be either enabled or
  disabled.</p>

  </div>

  <dl class="domintro"><dt><var data-anolis-xref="">document</var> . <code data-anolis-xref="dom-document-designMode"><a href="#designMode">designMode</a></code> [ = <var data-anolis-xref="">value</var> ]</dt>

   <dd>

    <p>文書が編集可能である場合に"<code data-anolis-xref="">on</code>"を返し、ない場合に"<code data-anolis-xref="">off</code>"を返す。</p>

    <p>文書の現在の状態を変更する設定が可能である。これは、文書をフォーカスし、その文書で文書の選択をリセットする。</p>

   </dd>

  </dl><div class="impl">

  <p>The <code data-anolis-xref="dom-document-designMode"><a href="#designMode">designMode</a></code> IDL attribute on the
  <code><a href="dom.html#document">Document</a></code> object takes two values, "<code data-anolis-xref="">on</code>" and "<code data-anolis-xref="">off</code>". On setting, the new value must be compared in an <a href="infrastructure.html#ascii-case-insensitive">ASCII
  case-insensitive</a> manner to these two values; if it matches the "<code data-anolis-xref="">on</code>"
  value, then <code data-anolis-xref="dom-document-designMode"><a href="#designMode">designMode</a></code> must be enabled, and if it
  matches the "<code data-anolis-xref="">off</code>" value, then <code data-anolis-xref="dom-document-designMode"><a href="#designMode">designMode</a></code> must be disabled. Other values must be
  ignored.</p>

  <p>On getting, if <code data-anolis-xref="dom-document-designMode"><a href="#designMode">designMode</a></code> is enabled, the IDL
  attribute must return the value "<code data-anolis-xref="">on</code>"; otherwise it is disabled, and the
  attribute must return the value "<code data-anolis-xref="">off</code>".</p>

  <p>The last state set must persist until the document is destroyed or the state is changed.
  Initially, documents must have their <code data-anolis-xref="dom-document-designMode"><a href="#designMode">designMode</a></code>
  disabled.</p>

  <p>When the <code data-anolis-xref="dom-document-designMode"><a href="#designMode">designMode</a></code> changes from being disabled to
  being enabled, the user agent must synchronously reset the document's <a href="#active-range">active range</a>'s
  start and end boundary points to be at the start of the <code><a href="dom.html#document">Document</a></code> and then run the
  <a href="#focusing-steps">focusing steps</a> for the root element of the <code><a href="dom.html#document">Document</a></code>, if any.</p>

  </div>


  <h4 id="best-practices-for-in-page-editors"><span class="secno">7.6.3</span> ページ内編集者のためのベストプラクティス</h4>

  <p>著者は、もともと値'pre-wrap'へこれら編集のメカニズムを介して作成された<a data-anolis-xref="editing host" href="#editing-host">ホストを編集</a>およびマークアップ上の'white-space'プロパティーを設定するよう推奨する。デフォルトのHTML空白処理は、あまりWYSIWYG編集に向かず、そして'white-space'がデフォルト値のままである場合、いくつかのコーナーの場合において、行の折り返しは正しく動作しない。</p>

  <div class="example">

   <p>デフォルト'normal'値が代わりに使用される場合に発生する問題の例として、単語の間に2つのスペース（ここでは"␣"によって表される）とともに、"<kbd>yellow␣␣ball</kbd>"と入力したユーザーの場合を考える。'white-space'のデフォルト値（'normal'）のための場所での編集規則ともに、結果のマークアップは、"<samp>yellow&amp;nbsp;&nbsp;ball</samp>"または"<samp>yellow&nbsp;&amp;nbsp;ball</samp>"のいずれかで構成される。すなわち、2つの単語間の非開票スペースに加えて、通常スペースが存在するだろう。'white-space'に対する'normal'値は共に相殺するために隣接する通常スペースを必要とするため、これは必要である。</p>

   <p>前者の場合において、たとえ行の末尾で"<samp>yellow</samp>"単独で一致するとしても、"<samp>yellow⍽</samp>"は次の行（"⍽"は非改行スペースを表すためにここで使用されている）に折り返す。後者の場合において、行の先頭に包まれる場合、"<samp>⍽ball</samp>"は非改行スペース由来の可視インデントを持つだろう。</p>

   <p>しかし、'white-space'が'pre-wrap'に設定される場合、編集規則は、代わりに単に単語間に2つの通常のスペースを置き、2つの単語が行末で分割されるべきであり、スペースはレンダリングから削除されてきれいになる。</p>

  </div>



  <h4 id="editing-apis"><span class="secno">7.6.4</span> 編集API</h4>


  <p>用語<dfn id="active-range">アクティブ範囲</dfn>、<dfn id="editing-host">編集ホスト</dfn>、および<dfn id="editable">編集可能</dfn>の定義、<a data-anolis-xref="editing
  host" href="#editing-host">編集ホスト</a>または<a href="#editable">編集可能</a>である要素のユーザーインターフェース要件、<dfn data-anolis-xref="dom-document-execCommand" id="execCommand"><code>execCommand()</code></dfn>、<dfn data-anolis-xref="dom-document-queryCommandEnabled" id="dom-document-querycommandenabled"><code>queryCommandEnabled()</code></dfn>、<dfn data-anolis-xref="dom-document-queryCommandIndeterm" id="dom-document-querycommandindeterm"><code>queryCommandIndeterm()</code></dfn>、<dfn data-anolis-xref="dom-document-queryCommandState" id="dom-document-querycommandstate"><code>queryCommandState()</code></dfn>、<dfn data-anolis-xref="dom-document-queryCommandSupported" id="dom-document-querycommandsupported"><code>queryCommandSupported()</code></dfn>、および<dfn data-anolis-xref="dom-document-queryCommandValue" id="dom-document-querycommandvalue"><code>queryCommandValue()</code></dfn>メソッド、テキスト選択、および<dfn id="delete-the-selection">選択削除</dfn>アルゴリズムは、HTML Editing API仕様で定義される。編集のインタラクションおよびユーザーエージェントでのアンドゥ/リドゥ機能は、UndoManagerおよびDOM Transaction仕様によって定義される。<a href="references.html#refsEDITING">[EDITING]</a> <a href="references.html#refsUNDO">[UNDO]</a></p><!-- those might get merged in here eventually -->

  



  <h4 id="spelling-and-grammar-checking"><span class="secno">7.6.5</span> スペルと文法チェック</h4>

  <div class="impl">

  <p>User agents can support the checking of spelling and grammar of editable text, either in form
  controls (such as the value of <code><a href="forms.html#the-textarea-element">textarea</a></code> elements), or in elements in an <a href="#editing-host">editing
  host</a> (e.g. using <code data-anolis-xref="attr-contenteditable"><a href="#attr-contenteditable">contenteditable</a></code>).</p>

  <p>For each element, user agents must establish a <dfn data-anolis-xref="concept-spellcheck-default" id="concept-spellcheck-default">default
  behavior</dfn>, either through defaults or through preferences expressed by the user. There are
  three possible default behaviors for each element:</p>

  <dl><dt><dfn data-anolis-xref="concept-spellcheck-default-true" id="concept-spellcheck-default-true">true-by-default</dfn>

   <dd>The element will be checked for spelling and grammar if its contents are editable.

   

   <dt><dfn data-anolis-xref="concept-spellcheck-default-false" id="concept-spellcheck-default-false">false-by-default</dfn>

   <dd>The element will never be checked for spelling and grammar.

   

   <dt><dfn data-anolis-xref="concept-spellcheck-default-inherit" id="concept-spellcheck-default-inherit">inherit-by-default</dfn>

   <dd>The element's default behavior is the same as its parent element's. Elements that have no
   parent element cannot have this as their default behavior.

  

  </dl><hr></div>

  <p><dfn data-anolis-xref="attr-spellcheck" id="attr-spellcheck"><code>spellcheck</code></dfn>属性は、キーワードが空文字列、<code data-anolis-xref="">true</code>および<code data-anolis-xref="">false</code>となる<a href="infrastructure.html#enumerated-attribute">列挙属性</a>である。空の文字列および<i>true</i>キーワードは、<code data-anolis-xref="">true</code>状態に対応する。<i>false</i>キーワードは、<code data-anolis-xref="">false</code>状態に対応する。さらに、<i>default</i>状態という第3の状態が存在する。これは<i>欠落した値のデフォルト</i>（および<i>妥当でない値のデフォルト</i>）である。</p>

  <p class="note"><i>true</i>状態は、要素がそのスペルおよび文法チェックを持つことを示す。<i>default</i>状態は、以下で定義されるように、親要素の独自の<code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code>状態におそらく基づいて、デフォルトの動作に応じて動作する要素であることを示す。<i>false</i>状態は、要素がチェックされないことを示す。</p>

  <div class="impl">

  <hr></div>

  <dl class="domintro"><dt><var data-anolis-xref="">element</var> . <code data-anolis-xref="dom-spellcheck"><a href="#dom-spellcheck">spellcheck</a></code> [ = <var data-anolis-xref="">value</var> ]</dt>

   <dd>

    <p>要素がスペルや文法チェックを持つ場合はtrueを返す。そうでなければfalseを返す。</p>

    <p>デフォルトを上書きして<code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code>コンテンツ属性を設定するための、設定が可能である。</p>

   </dd>
  </dl><div class="impl">

  <p>The <dfn data-anolis-xref="dom-spellcheck" id="dom-spellcheck"><code>spellcheck</code></dfn> IDL attribute, on getting, must
  return true if the element's <code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code> content attribute is
  in the <i>true</i> state, or if the element's <code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code>
  content attribute is in the <i>default</i> state and the element's <a data-anolis-xref="concept-spellcheck-default" href="#concept-spellcheck-default">default behavior</a> is <a data-anolis-xref="concept-spellcheck-default-true" href="#concept-spellcheck-default-true">true-by-default</a>, or if the element's <code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code> content attribute is in the <i>default</i> state and the
  element's <a data-anolis-xref="concept-spellcheck-default" href="#concept-spellcheck-default">default behavior</a> is <a data-anolis-xref="concept-spellcheck-default-inherit" href="#concept-spellcheck-default-inherit">inherit-by-default</a> and the element's parent
  element's <code data-anolis-xref="dom-spellcheck"><a href="#dom-spellcheck">spellcheck</a></code> IDL attribute would return true;
  otherwise, if none of those conditions applies, then the attribute must instead return false.</p>

  <p class="note">The <code data-anolis-xref="dom-spellcheck"><a href="#dom-spellcheck">spellcheck</a></code> IDL attribute is not affected
  by user preferences that override the <code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code> content
  attribute, and therefore might not reflect the actual spellchecking state.</p>

  <p>On setting, if the new value is true, then the element's <code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code> content attribute must be set to the literal string
  "<code data-anolis-xref="">true</code>", otherwise it must be set to the literal string "<code data-anolis-xref="">false</code>".

  

  <hr><p>User agents must only consider the following pieces of text as checkable for the purposes of
  this feature:</p>

  <ul><li>The <a data-anolis-xref="concept-fe-value" href="forms.html#concept-fe-value">value</a> of <code><a href="forms.html#the-input-element">input</a></code> elements whose <code data-anolis-xref="attr-input-type"><a href="forms.html#attr-input-type">type</a></code> attributes are in the <a data-anolis-xref="attr-input-type-text" href="forms.html#text-(type=text)-state-and-search-state-(type=search)">Text</a>, <a data-anolis-xref="attr-input-type-search" href="forms.html#text-(type=text)-state-and-search-state-(type=search)">Search</a>,
   <a data-anolis-xref="attr-input-type-url" href="forms.html#url-state-(type=url)">URL</a>, or <a data-anolis-xref="attr-input-type-email" href="forms.html#e-mail-state-(type=email)">E-mail</a> states and that are <i data-anolis-xref="concept-fe-mutable"><a href="forms.html#concept-fe-mutable">mutable</a></i> (i.e. that do not have the <code data-anolis-xref="attr-input-readonly"><a href="forms.html#attr-input-readonly">readonly</a></code> attribute specified and that are not <a data-anolis-xref="concept-fe-disabled" href="forms.html#concept-fe-disabled">disabled</a>).</li>

   <li>The <a data-anolis-xref="concept-fe-value" href="forms.html#concept-fe-value">value</a> of <code><a href="forms.html#the-textarea-element">textarea</a></code> elements that do not
   have a <code data-anolis-xref="attr-textarea-readonly"><a href="forms.html#attr-textarea-readonly">readonly</a></code> attribute and that are not <a data-anolis-xref="concept-fe-disabled" href="forms.html#concept-fe-disabled">disabled</a>.</li>

   <li>Text in <code><a href="infrastructure.html#text-0">Text</a></code> nodes that are children of <a data-anolis-xref="editing host" href="#editing-host">editing
   hosts</a> or <a href="#editable">editable</a> elements.</li>

   <li>Text in attributes of <a href="#editable">editable</a> elements.</li>

  </ul><p>For text that is part of a <code><a href="infrastructure.html#text-0">Text</a></code> node, the element with which the text is
  associated is the element that is the immediate parent of the first character of the word,
  sentence, or other piece of text. For text in attributes, it is the attribute's element. For the
  values of <code><a href="forms.html#the-input-element">input</a></code> and <code><a href="forms.html#the-textarea-element">textarea</a></code> elements, it is the element itself.</p>

  <p>To determine if a word, sentence, or other piece of text in an applicable element (as defined
  above) is to have spelling- and grammar-checking enabled, the UA must use the following
  algorithm:</p>

  <ol><!-- user override --><li>If the user has disabled the checking for this text, then the checking is disabled.</li>

   <li>Otherwise, if the user has forced the checking for this text to always be enabled, then the
   checking is enabled.</li><!-- content attribute: on, off -->

   

   <li>Otherwise, if the element with which the text is associated has a <code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code> content attribute, then: if that attribute is in the
   <i>true</i> state, then checking is enabled; otherwise, if that attribute is in the <i>false</i>
   state, then checking is disabled.</li><!-- inherit, if there is one to inherit from -->

   

   <li>Otherwise, if there is an ancestor element with a <code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code> content attribute that is not in the <i>default</i>
   state, then: if the nearest such ancestor's <code data-anolis-xref="attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code>
   content attribute is in the <i>true</i> state, then checking is enabled; otherwise, checking is
   disabled.</li><!-- default -->

   

   <li>Otherwise, if the element's <a data-anolis-xref="concept-spellcheck-default" href="#concept-spellcheck-default">default behavior</a>
   is <a data-anolis-xref="concept-spellcheck-default-true" href="#concept-spellcheck-default-true">true-by-default</a>, then checking is
   enabled.</li>

   <li>Otherwise, if the element's <a data-anolis-xref="concept-spellcheck-default" href="#concept-spellcheck-default">default behavior</a>
   is <a data-anolis-xref="concept-spellcheck-default-false" href="#concept-spellcheck-default-false">false-by-default</a>, then checking is
   disabled.</li><!-- default inheritance -->

   

   <li>Otherwise, if the element's parent element has <em>its</em> checking enabled, then checking
   is enabled.</li>

   <li>Otherwise, checking is disabled.</li>

  </ol><p>If the checking is enabled for a word/sentence/text, the user agent should indicate spelling
  and grammar errors in that text. User agents should take into account the other semantics given in
  the document when suggesting spelling and grammar corrections. User agents may use the language of
  the element to determine what spelling and grammar rules to use, or may use the user's preferred
  language settings. UAs should use <code><a href="forms.html#the-input-element">input</a></code> element attributes such as <code data-anolis-xref="attr-input-pattern"><a href="forms.html#attr-input-pattern">pattern</a></code> to ensure that the resulting value is valid, where
  possible.</p>

  <p>If checking is disabled, the user agent should not indicate spelling or grammar errors for that
  text.</p>

  <p>Even when checking is enabled, user agents may opt to not report spelling or grammar errors in
  text that the user agent deems the user has no interest in having checked (e.g. text that was
  already present when the page was loaded, or that the user did not type, or text in controls that
  the user has not focused, or in parts of e-mail addresses that the user agent is not confident
  were misspelt).</p>

  <div class="example">

   <p>The element with ID "a" in the following example would be the one used to determine if the
   word "Hello" is checked for spelling errors. In this example, it would not be.</p>

   <pre>&lt;div contenteditable="true"&gt;
 &lt;span spellcheck="false" id="a"&gt;Hell&lt;/span&gt;&lt;em&gt;o!&lt;/em&gt;
&lt;/div&gt;</pre>

   <p>The element with ID "b" in the following example would have checking enabled (the leading
   space character in the attribute's value on the <code><a href="forms.html#the-input-element">input</a></code> element causes the attribute
   to be ignored, so the ancestor's value is used instead, regardless of the default).</p>

   <pre class="bad">&lt;p spellcheck="true"&gt;
 &lt;label&gt;Name: &lt;input spellcheck=" false" id="b"&gt;&lt;/label&gt;
&lt;/p&gt;</pre>

  </div>

  </div>

  <p class="note">この仕様は、スペルや文法チェッカーに対するユーザーインターフェースを定義しない。ユーザーエージェントはオンデマンドチェックを提供するかもしれず、チェックが有効である間に連続的なチェックを実行するかもしれず、または他のインターフェースを使用するかもしれない。</p><!--TOPIC:HTML Syntax and Parsing-->



  </body></html>