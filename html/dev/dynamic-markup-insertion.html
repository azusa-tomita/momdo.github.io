<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Developer's Edition 日本語訳</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="/dev/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  <script async="" src="/dev/search.js"></script>
  
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="./dev" />HTML: The Living Standard</a></h1><h2 id="dev-edition-h2" class="no-num no-toc">Developer's Edition — Last Updated <span class="pubdate">10 June 2020</span></h2></hgroup>
   

   <div id="search"><input placeholder="Search. Press '/'" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="webappapis.html">← 8 Web application APIs</a> — <a href="./">Table of Contents</a> — <a href="timers-and-user-prompts.html">8.6 Timers →</a></nav><ol class="toc"><li><ol><li><a href="dynamic-markup-insertion.html#dynamic-markup-insertion"><span class="secno">8.4</span> 動的マークアップの挿入</a><ol><li><a href="dynamic-markup-insertion.html#opening-the-input-stream"><span class="secno">8.4.1</span> 入力ストリームを開く</a><li><a href="dynamic-markup-insertion.html#closing-the-input-stream"><span class="secno">8.4.2</span> 入力ストリームを閉じる</a><li><a href="dynamic-markup-insertion.html#document.write()"><span class="secno">8.4.3</span> <code>document.write()</code></a><li><a href="dynamic-markup-insertion.html#document.writeln()"><span class="secno">8.4.4</span> <code>document.writeln()</code></a></ol><li><a href="dynamic-markup-insertion.html#dom-parsing-and-serialization"><span class="secno">8.5</span> DOM parsing</a></ol></ol><h3 id="dynamic-markup-insertion"><span class="secno">8.4</span> <dfn>動的マークアップの挿入</dfn><a href="#dynamic-markup-insertion" class="self-link"></a></h3>

  <p class="note">APIs for dynamically inserting markup into the document interact with the parser, and thus their behavior varies depending on whether they are used with <a id="dynamic-markup-insertion:html-documents" href="https://triple-underscore.github.io/DOM4-ja.html#html-document" data-x-internal="html-documents">HTML documents</a> (and the <span>HTML parser</span>) or <a id="dynamic-markup-insertion:xml-documents" href="https://triple-underscore.github.io/DOM4-ja.html#xml-document" data-x-internal="xml-documents">XML documents</a> (and the <span>XML parser</span>).</p>

  



  <h4 id="opening-the-input-stream"><span class="secno">8.4.1</span> 入力ストリームを開く<a href="#opening-the-input-stream" class="self-link"></a></h4>

  <dl class="domintro"><dt><var>document</var> = <var>document</var> . <code id="dom-document-open">open</code>( )<aside class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/open" title="The Document.open() method opens a document for writing.">Document/open</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>45+</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>Yes</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>Yes</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>45+</span></span><span class="webview_android yes"><span>WebView Android</span><span>45+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>5.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span></div></div></aside><dd><p>Causes the <code>Document</code> to be replaced in-place, as if it was a new <code>Document</code> object, but reusing the previous object, which is then returned.</p>

    <p>The resulting <code>Document</code> has an HTML parser associated with it, which can be given data to parse using <code id="opening-the-input-stream:dom-document-write"><a href="#dom-document-write">document.write()</a></code>.</p>

    <p>The method has no effect if the <code>Document</code> is still being parsed.</p>

    <p>Throws an <a id="opening-the-input-stream:invalidstateerror" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="opening-the-input-stream:domexception"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code> if the <code>Document</code> is an <a href="https://triple-underscore.github.io/DOM4-ja.html#xml-document" id="opening-the-input-stream:xml-documents" data-x-internal="xml-documents">XML document</a>.</p>

    <p>Throws an <a id="opening-the-input-stream:invalidstateerror-2" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="opening-the-input-stream:domexception-2"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code> if the parser is currently executing a <a id="opening-the-input-stream:custom-element-constructor" href="custom-elements.html#custom-element-constructor">custom element constructor</a>.</p>
   <dt><var>window</var> = <var>document</var> . <code>open</code>( <var>url</var>, <var>name</var>, <var>features</var> )<dd><p><code id="opening-the-input-stream:dom-open"><a href="window-object.html#dom-open">window.open()</a></code>メソッドのように動作する。</dl>

  



  <h4 id="closing-the-input-stream"><span class="secno">8.4.2</span> 入力ストリームを閉じる<a href="#closing-the-input-stream" class="self-link"></a></h4>

  <dl class="domintro"><dt><var>document</var> . <code id="dom-document-close">close</code>()<aside class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/close" title="The Document.close() method finishes writing to a document, opened with Document.open().">Document/close</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>45+</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie unknown"><span>Internet Explorer</span><span>?</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>Yes</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>45+</span></span><span class="webview_android yes"><span>WebView Android</span><span>45+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>5.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span></div></div></aside><dd><p><code id="closing-the-input-stream:dom-document-open"><a href="#dom-document-open">document.open()</a></code>メソッドによって開かれた入力ストリームを閉じる。</p>

    <p>Throws an <a id="closing-the-input-stream:invalidstateerror" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="closing-the-input-stream:domexception"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code> if the <code>Document</code> is an <a href="https://triple-underscore.github.io/DOM4-ja.html#xml-document" id="closing-the-input-stream:xml-documents" data-x-internal="xml-documents">XML document</a>.</p>

    <p>Throws an <a id="closing-the-input-stream:invalidstateerror-2" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="closing-the-input-stream:domexception-2"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code> if the parser is currently executing a <a id="closing-the-input-stream:custom-element-constructor" href="custom-elements.html#custom-element-constructor">custom element constructor</a>.</p>
   </dl>

  



  <h4 id="document.write()"><span class="secno">8.4.3</span> <code id="document.write():dom-document-write"><a href="#dom-document-write">document.write()</a></code><a href="#document.write()" class="self-link"></a></h4>

  <dl class="domintro"><dt><var>document</var> . <code id="dom-document-write">write</code>(<var>text</var>...)<aside class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/write" title="The Document.write() method writes a string of text to a document stream opened by document.open().">Document/write</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></aside><dd><p>一般に、与えられた文字列を<code>Document</code>の入力ストリームに加える。</p>

    <p class="warning">このメソッドは非常に特異な振る舞いを持つ。一部の場合において、このメソッドは、パーサが実行されている間、<span>HTMLパーサ</span>の状態に影響を与えることができる。その結果、文書のソースに対応しないDOMをもたらす（たとえば、記述された文字列が、文字列"<code>&lt;plaintext></code>"または"<code>&lt;!--</code>"である場合）。他の例では、あたかも<code id="document.write():dom-document-open"><a href="#dom-document-open">document.open()</a></code>が呼び出されていたかのように、呼び出しが最初に現在のページをクリアできる。さらに多くの例では、メソッドは単に無視されるか、または例外を投げる。Users agents are <a href="#document-written-scripts-intervention">explicitly allowed to avoid executing <code>script</code> elements inserted via this method</a>. And to make matters even worse, the exact behavior of this method can in some cases be dependent on network latency, which can lead to failures that are very hard to debug. <strong>For all these reasons, use of this method is strongly discouraged.</strong></p>

    <p>Throws an <a id="document.write():invalidstateerror" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="document.write():domexception"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code> when invoked on <a id="document.write():xml-documents" href="https://triple-underscore.github.io/DOM4-ja.html#xml-document" data-x-internal="xml-documents">XML documents</a>.</p>

    <p>Throws an <a id="document.write():invalidstateerror-2" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="document.write():domexception-2"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code> if the parser is currently executing a <a id="document.write():custom-element-constructor" href="custom-elements.html#custom-element-constructor">custom element constructor</a>.</p>
   </dl>

  


  <h4 id="document.writeln()"><span class="secno">8.4.4</span> <code id="document.writeln():dom-document-writeln"><a href="#dom-document-writeln">document.writeln()</a></code><a href="#document.writeln()" class="self-link"></a></h4>

  <dl class="domintro"><dt><var>document</var> . <code id="dom-document-writeln">writeln</code>(<var>text</var>...)<aside class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/writeln" title="Writes a string of text followed by a newline character to a document.">Document/writeln</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>45+</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie unknown"><span>Internet Explorer</span><span>?</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>Yes</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>45+</span></span><span class="webview_android yes"><span>WebView Android</span><span>45+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>5.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span></div></div></aside><dd><p>Adds the given string(s) to the <code>Document</code>'s input stream, followed by a newline character. If necessary, calls the <code id="document.writeln():dom-document-open"><a href="#dom-document-open">open()</a></code> method implicitly first.</p>

    <p>Throws an <a id="document.writeln():invalidstateerror" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="document.writeln():domexception"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code> when invoked on <a id="document.writeln():xml-documents" href="https://triple-underscore.github.io/DOM4-ja.html#xml-document" data-x-internal="xml-documents">XML documents</a>.</p>

    <p>Throws an <a id="document.writeln():invalidstateerror-2" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="document.writeln():domexception-2"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code> if the parser is currently executing a <a id="document.writeln():custom-element-constructor" href="custom-elements.html#custom-element-constructor">custom element constructor</a>.</p>
   </dl>

  


  
  <h3 id="dom-parsing-and-serialization"><span class="secno">8.5</span> DOM parsing<a href="#dom-parsing-and-serialization" class="self-link"></a></h3><aside class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMParser" title="The DOMParser interface provides the ability to parse XML or HTML source code from a string into a DOM Document.">DOMParser</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>3.2+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>8+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>9+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>2+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></aside>

  <p>The <code>DOMParser</code> interface allows authors to create new <code>Document</code> objects by parsing strings, as either HTML or XML.</p>

  <dl class="domintro"><dt><var>parser</var> = new <code id="dom-domparser-constructor">DOMParser</code>()<dd><p>Constructs a new <code>DOMParser</code> object.</p>
   <dt><var>document</var> = <var>parser</var> . <code id="dom-domparser-parsefromstring">parseFromString</code>( <var>string</var>, <var>type</var> )<dd><p>Parses <var>string</var> using either the HTML or XML parser, according to <var>type</var>, and returns the resulting <code>Document</code>. <var>type</var> can be "<code>text/html</code>" (which will invoke the HTML parser), or any of "<code id="dom-parsing-and-serialization:text/xml"><a href="indices.html#text/xml">text/xml</a></code>", "<code id="dom-parsing-and-serialization:application/xml"><a href="indices.html#application/xml">application/xml</a></code>", "<code>application/xhtml+xml</code>", or "<code id="dom-parsing-and-serialization:image/svg+xml"><a href="indices.html#image/svg+xml">image/svg+xml</a></code>" (which will invoke the XML parser).</p>

    <p>For the XML parser, if <var>string</var> cannot be parsed, then the returned <code>Document</code> will contain elements describing the resulting error.</p>

    <p>Note that <code id="dom-parsing-and-serialization:the-script-element"><a href="scripting.html#the-script-element">script</a></code> elements are not evaluated during parsing, and the resulting document's <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-encoding" id="dom-parsing-and-serialization:document's-character-encoding" data-x-internal="document's-character-encoding">encoding</a> will always be <span>UTF-8</span>.</p>

    <p>Values other than the above for <var>type</var> will cause a <code id="dom-parsing-and-serialization:typeerror"><a data-x-internal="typeerror" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror">TypeError</a></code> exception to be thrown.</p>
   </dl>

  <p class="note">The design of <code>DOMParser</code>, as a class that needs to be constructed and then have its <code id="dom-parsing-and-serialization:dom-domparser-parsefromstring"><a href="#dom-domparser-parsefromstring">parseFromString()</a></code> method called, is an unfortunate historical artifact. If we were designing this functionality today it would be a standalone function.</p>

  

  


  <nav><a href="webappapis.html">← 8 Web application APIs</a> — <a href="./">Table of Contents</a> — <a href="timers-and-user-prompts.html">8.6 Timers →</a></nav>
