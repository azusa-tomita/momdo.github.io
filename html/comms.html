<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard 日本語訳</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/spec.css"><link rel="stylesheet" href="https://resources.whatwg.org/standard.css"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css"><link href="https://resources.whatwg.org/logo.svg" rel="icon"><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
  </script><style>
   .bad, .bad *:not(.X\58X) { color: gray; }

   .fingerprint { position: absolute; right: 0; z-index: 5; }
   @media (max-width: 767px) {
     .fingerprint { max-width: 35px; }
   }

   .applies .yes, .yesno .yes { background: yellow; }
   .yesno .yes, .yesno .no { text-align: center; }

   .applies thead th > * { display: block; }
   .applies thead code { display: block; }
   .applies td { text-align: center; }

   .matrix, .matrix td { border: hidden; text-align: right; }
   .matrix, .equations { margin-left: 2em; }

   .vertical-summary-table tr > th[rowspan="2"]:first-child + th,
   .vertical-summary-table tr > td[rowspan="2"]:first-child + td { border-bottom: hidden; }

   .dice-example { border-collapse: collapse; border-style: hidden solid solid hidden; border-width: thin; margin-left: 3em; }
   .dice-example caption { width: 30em; font-size: smaller; font-style: italic; padding: 0.75em 0; text-align: left; }
   .dice-example td, .dice-example th { border: solid thin; width: 1.35em; height: 1.05em; text-align: center; padding: 0; }

   td.eg { border-width: thin; text-align: center; }

   #table-example-1 { border: solid thin; border-collapse: collapse; margin-left: 3em; }
   #table-example-1 caption { padding-bottom: 0.5em; }
   #table-example-1 thead, #table-example-1 tbody { border: none; }
   #table-example-1 th, #table-example-1 td { border: solid thin; }
   #table-example-1 th { font-weight: normal; }
   #table-example-1 td { border-style: none solid; vertical-align: top; }
   #table-example-1 th { padding: 0.5em; vertical-align: middle; text-align: center; }
   #table-example-1 tbody tr:first-child td { padding-top: 0.5em; }
   #table-example-1 tbody tr:last-child td { padding-bottom: 1.5em; }
   #table-example-1 tbody td:first-child { padding-left: 2.5em; padding-right: 0; width: 9em; }
   #table-example-1 tbody td:first-child::after { content: leader(". "); }
   #table-example-1 tbody td { padding-left: 2em; padding-right: 2em; }
   #table-example-1 tbody td:first-child + td { width: 10em; }
   #table-example-1 tbody td:first-child + td ~ td { width: 2.5em; }
   #table-example-1 tbody td:first-child + td + td + td ~ td { width: 1.25em; }

   .apple-table-examples { border: none; border-collapse: separate; border-spacing: 1.5em 0em; width: 40em; margin-left: 3em; }
   .apple-table-examples * { font-family: "Times", serif; }
   .apple-table-examples td, .apple-table-examples th { border: none; white-space: nowrap; padding-top: 0; padding-bottom: 0; }
   .apple-table-examples tbody th:first-child { border-left: none; width: 100%; }
   .apple-table-examples thead th:first-child ~ th { font-size: smaller; font-weight: bolder; border-bottom: solid 2px; text-align: center; }
   .apple-table-examples tbody th::after, .apple-table-examples tfoot th::after { content: leader(". ") }
   .apple-table-examples tbody th, .apple-table-examples tfoot th { font: inherit; text-align: left; }
   .apple-table-examples td { text-align: right; vertical-align: top; }
   .apple-table-examples.e1 tbody tr:last-child td { border-bottom: solid 1px; }
   .apple-table-examples.e1 tbody + tbody tr:last-child td { border-bottom: double 3px; }
   .apple-table-examples.e2 th[scope=row] { padding-left: 1em; }
   .apple-table-examples sup { line-height: 0; }

   .three-column-nowrap tr > td:first-child,
   .three-column-nowrap tr > td:first-child + td,
   .three-column-nowrap tr > td:first-child + td + td { white-space: nowrap; }

   .details-example img { vertical-align: top; }

   .parse-error-table td > p:first-child { margin-top: 0; }

   #named-character-references-table {
     white-space: nowrap;
     font-size: 0.6em;
     column-width: 30em;
     column-gap: 1em;
     -moz-column-width: 30em;
     -moz-column-gap: 1em;
     -webkit-column-width: 30em;
     -webkit-column-gap: 1em;
   }
   #named-character-references-table > table > tbody > tr > td:first-child + td,
   #named-character-references-table > table > tbody > tr > td:last-child { text-align: center; }
   #named-character-references-table > table > tbody > tr > td:last-child:hover > span { position: absolute; top: auto; left: auto; margin-left: 0.5em; line-height: 1.2; font-size: 5em; border: outset; padding: 0.25em 0.5em; background: white; width: 1.25em; height: auto; text-align: center; }
   #named-character-references-table > table > tbody > tr#entity-CounterClockwiseContourIntegral > td:first-child { font-size: 0.5em; }

   .glyph.control { color: red; }

   #table-example-1 * { font-family: "Essays1743", serif; line-height: 1.01em; }
   @font-face {
     font-family: 'Essays1743';
     src: url('https://html.spec.whatwg.org/fonts/Essays1743.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-weight: bold;
     src: url('https://html.spec.whatwg.org/fonts/Essays1743-Bold.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-style: italic;
     src: url('https://html.spec.whatwg.org/fonts/Essays1743-Italic.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-style: italic;
     font-weight: bold;
     src: url('https://html.spec.whatwg.org/fonts/Essays1743-BoldItalic.ttf');
   }

   @media (max-width: 767px) {
     #abstractimg { width: 100%; }
   }
   #abstractimg, #abstractimg text { font: inherit; }
   #abstractimg rect { fill: #424242; }
   #abstractimg text { fill: #ffffff; font-size: 18px }
   #abstractimg .top { word-spacing: 50px; text-anchor: middle; }
   #abstractimg .left, #abstractimg .bottom { word-spacing: 12px; }
   #abstractimg .right { font-size: 25px; }
  </style><body>
  
  <script src="https://html.spec.whatwg.org/html-dfn.js" async=""></script>
  <script data-file-issue-url="https://github.com/momdo/momdo.github.io/issues/new" async="" src="https://resources.whatwg.org/file-issue.js"></script>
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img alt="WHATWG" src="https://resources.whatwg.org/logo.svg" width="100" height="100"></a><hgroup><h1 class="allcaps">HTML</h1><h2 id="living-standard" class="no-num no-toc">Living Standard — Last Updated <span class="pubdate">23 August 2019</span></h2></hgroup>
   
   

   
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="imagebitmap-and-animations.html">← 8.9 画像</a> — <a href="./">目次</a> — <a href="server-sent-events.html">9.2 サーバー送信イベント →</a></nav><ol class="toc"><li id="toc-comms"><a href="comms.html#comms"><span class="secno">9</span> コミュニケーション</a><ol><li><a href="comms.html#the-messageevent-interface"><span class="secno">9.1</span> <code>MessageEvent</code>インターフェイス</a></ol></ol><h2 id="comms"><span class="secno">9</span> コミュニケーション<a href="#comms" class="self-link"></a></h2>

  <h3 id="the-messageevent-interface"><span class="secno">9.1</span> <code id="the-messageevent-interface:messageevent"><a href="#messageevent">MessageEvent</a></code>インターフェイス<a href="#the-messageevent-interface" class="self-link"></a></h3>

  <p>Messages in <a id="the-messageevent-interface:server-sent-events" href="server-sent-events.html#server-sent-events">server-sent events</a>, <a id="the-messageevent-interface:network" href="web-sockets.html#network">Web sockets</a>, <a id="the-messageevent-interface:web-messaging" href="web-messaging.html#web-messaging">cross-document messaging</a>, <a id="the-messageevent-interface:channel-messaging" href="web-messaging.html#channel-messaging">channel messaging</a>, and <a id="the-messageevent-interface:broadcasting-to-other-browsing-contexts" href="web-messaging.html#broadcasting-to-other-browsing-contexts">broadcast channels</a> use the <code id="the-messageevent-interface:messageevent-2"><a href="#messageevent">MessageEvent</a></code> interface for their <code id="the-messageevent-interface:event-message"><a href="indices.html#event-message">message</a></code> events:</p>

  <aside class="mdn before"><input onclick="toggleStatus(this)" value="⋰" type="button"><div><b>MDN</b><details><summary><a href="https://developer.mozilla.org/en-US/docs/Web/API/MessageEvent" title="The MessageEvent interface represents a message received by a target object.">MessageEvent</a></summary><p class="mdnsupport"><span class="chrome yes"><span>Chrome</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>Yes</span></span><span class="edge yes"><span>Edge</span><span>Yes</span></span><span class="edge_mobile unknown"><span>Edge Mobile</span><span>?</span></span><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="firefox_android yes"><span>Firefox Android</span><span>Yes</span></span><span class="ie yes"><span>Internet Explorer</span><span>9+</span></span><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>3+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>Yes</span></span><span class="webview_android yes"><span>WebView Android</span><span>Yes</span></span></details></div></aside><pre><code class='idl'>[<c- g>Constructor</c->(<c- b>DOMString</c-> <c- g>type</c->, <c- b>optional</c-> <a href='#messageeventinit' id='the-messageevent-interface:messageeventinit'><c- n>MessageEventInit</c-></a> <c- g>eventInitDict</c-> = {}),
 <c- g>Exposed</c->=(<c- n>Window</c->,<c- n>Worker</c->,<c- n>AudioWorklet</c->)]
<c- b>interface</c-> <dfn id='messageevent'><c- g>MessageEvent</c-></dfn> : <a href='https://triple-underscore.github.io/DOM4-ja.html#interface-event' data-x-internal='event' id='the-messageevent-interface:event'><c- n>Event</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>any</c-> <a href='#dom-messageevent-data' id='the-messageevent-interface:dom-messageevent-data'><c- g>data</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-messageevent-origin' id='the-messageevent-interface:dom-messageevent-origin'><c- g>origin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>DOMString</c-> <a href='#dom-messageevent-lasteventid' id='the-messageevent-interface:dom-messageevent-lasteventid'><c- g>lastEventId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a href='#messageeventsource' id='the-messageevent-interface:messageeventsource'><c- n>MessageEventSource</c-></a>? <a href='#dom-messageevent-source' id='the-messageevent-interface:dom-messageevent-source'><c- g>source</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>FrozenArray</c->&lt;<a href='web-messaging.html#messageport' id='the-messageevent-interface:messageport'><c- n>MessagePort</c-></a>> <a href='#dom-messageevent-ports' id='the-messageevent-interface:dom-messageevent-ports'><c- g>ports</c-></a>;

  <c- b>void</c-> <a href='#dom-messageevent-initmessageevent' id='the-messageevent-interface:dom-messageevent-initmessageevent'><c- g>initMessageEvent</c-></a>(<c- b>DOMString</c-> <c- g>type</c->, <c- b>optional</c-> <c- b>boolean</c-> <c- g>bubbles</c-> = <c- b>false</c->, <c- b>optional</c-> <c- b>boolean</c-> <c- g>cancelable</c-> = <c- b>false</c->, <c- b>optional</c-> <c- b>any</c-> <c- g>data</c-> = <c- b>null</c->, <c- b>optional</c-> <c- b>USVString</c-> <c- g>origin</c-> = "", <c- b>optional</c-> <c- b>DOMString</c-> <c- g>lastEventId</c-> = "", <c- b>optional</c-> <a href='#messageeventsource' id='the-messageevent-interface:messageeventsource-2'><c- n>MessageEventSource</c-></a>? <c- g>source</c-> = <c- b>null</c->, <c- b>optional</c-> <c- b>sequence</c->&lt;<a href='web-messaging.html#messageport' id='the-messageevent-interface:messageport-2'><c- n>MessagePort</c-></a>> <c- g>ports</c-> = []);
};

<c- b>dictionary</c-> <dfn id='messageeventinit'><c- g>MessageEventInit</c-></dfn> : <a href='https://triple-underscore.github.io/DOM4-ja.html#dictdef-eventinit' data-x-internal='eventinit' id='the-messageevent-interface:eventinit'><c- n>EventInit</c-></a> {
  <c- b>any</c-> <c- g>data</c-> = <c- b>null</c->;
  <c- b>USVString</c-> <c- g>origin</c-> = "";
  <c- b>DOMString</c-> <c- g>lastEventId</c-> = "";
  <a href='#messageeventsource' id='the-messageevent-interface:messageeventsource-3'><c- n>MessageEventSource</c-></a>? <c- g>source</c-> = <c- b>null</c->;
  <c- b>sequence</c->&lt;<a href='web-messaging.html#messageport' id='the-messageevent-interface:messageport-3'><c- n>MessagePort</c-></a>> <c- g>ports</c-> = [];
};

<c- b>typedef</c-> (<a href='window-object.html#windowproxy' id='the-messageevent-interface:windowproxy'><c- n>WindowProxy</c-></a> <c- b>or</c-> <a href='web-messaging.html#messageport' id='the-messageevent-interface:messageport-4'><c- n>MessagePort</c-></a> <c- b>or</c-> <a href='https://w3c.github.io/ServiceWorker/#serviceworker' data-x-internal='serviceworker' id='the-messageevent-interface:serviceworker'><c- n>ServiceWorker</c-></a>) <dfn id='messageeventsource'><c- g>MessageEventSource</c-></dfn>;</code></pre>

  <dl class="domintro"><dt><var>event</var> . <code id="dom-messageevent-data-dev"><a href="#dom-messageevent-data">data</a></code><dd><p>Returns the data of the message.</p>

   <dt><var>event</var> . <code id="dom-messageevent-origin-dev"><a href="#dom-messageevent-origin">origin</a></code><dd><p>Returns the origin of the message, for <a id="the-messageevent-interface:server-sent-events-2" href="server-sent-events.html#server-sent-events">server-sent events</a> and <a id="the-messageevent-interface:web-messaging-2" href="web-messaging.html#web-messaging">cross-document messaging</a>.</p>

   <dt><var>event</var> . <code id="dom-messageevent-lasteventid-dev"><a href="#dom-messageevent-lasteventid">lastEventId</a></code><dd><p>Returns the <a href="server-sent-events.html#concept-event-stream-last-event-id" id="the-messageevent-interface:concept-event-stream-last-event-id">last event ID string</a>, for <a id="the-messageevent-interface:server-sent-events-3" href="server-sent-events.html#server-sent-events">server-sent events</a>.</p>

   <dt><var>event</var> . <code id="dom-messageevent-source-dev"><a href="#dom-messageevent-source">source</a></code><dd><p>Returns the <code id="the-messageevent-interface:windowproxy-2"><a href="window-object.html#windowproxy">WindowProxy</a></code> of the source window, for <a id="the-messageevent-interface:web-messaging-3" href="web-messaging.html#web-messaging">cross-document messaging</a>, and the <code id="the-messageevent-interface:messageport-5"><a href="web-messaging.html#messageport">MessagePort</a></code> being attached, in the <code id="the-messageevent-interface:event-workerglobalscope-connect"><a href="indices.html#event-workerglobalscope-connect">connect</a></code> event fired at <code id="the-messageevent-interface:sharedworkerglobalscope"><a href="workers.html#sharedworkerglobalscope">SharedWorkerGlobalScope</a></code> objects.</p>

   <dt><var>event</var> . <code id="dom-messageevent-ports-dev"><a href="#dom-messageevent-ports">ports</a></code><dd><p>Returns the <code id="the-messageevent-interface:messageport-6"><a href="web-messaging.html#messageport">MessagePort</a></code> array sent with the message, for <a id="the-messageevent-interface:web-messaging-4" href="web-messaging.html#web-messaging">cross-document messaging</a> and <a id="the-messageevent-interface:channel-messaging-2" href="web-messaging.html#channel-messaging">channel messaging</a>.</p>

   </dl>

  

  <p>The <dfn id="dom-messageevent-data"><code>data</code></dfn> attribute must return the value it was initialized to. It represents the message being sent.</p>

  <p>The <dfn id="dom-messageevent-origin"><code>origin</code></dfn> attribute must return the value it was initialized to. It represents, in <a id="the-messageevent-interface:server-sent-events-4" href="server-sent-events.html#server-sent-events">server-sent events</a> and <a id="the-messageevent-interface:web-messaging-5" href="web-messaging.html#web-messaging">cross-document messaging</a>, the <a id="the-messageevent-interface:concept-origin" href="origin.html#concept-origin">origin</a> of the document that sent the message (typically the scheme, hostname, and port of the document, but not its path or <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-messageevent-interface:concept-url-fragment" data-x-internal="concept-url-fragment">fragment</a>).</p>

  <p>The <dfn id="dom-messageevent-lasteventid"><code>lastEventId</code></dfn> attribute must return the value it was initialized to. It represents, in <a id="the-messageevent-interface:server-sent-events-5" href="server-sent-events.html#server-sent-events">server-sent events</a>, the <a href="server-sent-events.html#concept-event-stream-last-event-id" id="the-messageevent-interface:concept-event-stream-last-event-id-2">last event ID string</a> of the event source.</p>

  <p>The <dfn id="dom-messageevent-source"><code>source</code></dfn> attribute must return the value it was initialized to. It represents, in <a id="the-messageevent-interface:web-messaging-6" href="web-messaging.html#web-messaging">cross-document messaging</a>, the <code id="the-messageevent-interface:windowproxy-3"><a href="window-object.html#windowproxy">WindowProxy</a></code> of the <a id="the-messageevent-interface:browsing-context" href="browsers.html#browsing-context">browsing context</a> of the <code id="the-messageevent-interface:window"><a href="window-object.html#window">Window</a></code> object from which the message came; and in the <code id="the-messageevent-interface:event-workerglobalscope-connect-2"><a href="indices.html#event-workerglobalscope-connect">connect</a></code> events used by <a href="workers.html#sharedworkerglobalscope" id="the-messageevent-interface:sharedworkerglobalscope-2">shared workers</a>, the newly connecting <code id="the-messageevent-interface:messageport-7"><a href="web-messaging.html#messageport">MessagePort</a></code>.</p>

  <aside class="mdn before"><input onclick="toggleStatus(this)" value="⋰" type="button"><div><b>MDN</b><details><summary><a href="https://developer.mozilla.org/en-US/docs/Web/API/MessageEvent/ports" title="The ports read-only property of the MessageEvent interface is an array of MessagePort objects representing the ports associated with the channel the message is being sent through (where appropriate, e.g. in channel messaging or when sending a message to a shared worker).">MessageEvent/ports</a></summary><p class="mdnsupport"><span class="chrome yes"><span>Chrome</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>Yes</span></span><span class="edge yes"><span>Edge</span><span>12+</span></span><span class="edge_mobile unknown"><span>Edge Mobile</span><span>?</span></span><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="firefox_android yes"><span>Firefox Android</span><span>Yes</span></span><span class="ie yes"><span>Internet Explorer</span><span>9+</span></span><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>10+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>3+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>Yes</span></span><span class="webview_android yes"><span>WebView Android</span><span>Yes</span></span></details></div></aside><p>The <dfn id="dom-messageevent-ports"><code>ports</code></dfn> attribute must return the value it was initialized to. It represents, in <a id="the-messageevent-interface:web-messaging-7" href="web-messaging.html#web-messaging">cross-document messaging</a> and <a id="the-messageevent-interface:channel-messaging-3" href="web-messaging.html#channel-messaging">channel messaging</a>, the <code id="the-messageevent-interface:messageport-8"><a href="web-messaging.html#messageport">MessagePort</a></code> array being sent.</p>

  
  <p>The <dfn id="dom-messageevent-initmessageevent"><code>initMessageEvent()</code></dfn> method must initialize the event in a manner analogous to the similarly-named <code id="the-messageevent-interface:dom-event-initevent"><a data-x-internal="dom-event-initevent" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-initevent">initEvent()</a></code> method. <a href="references.html#refsDOM">[DOM]</a></p>

  

  <p class="note">Various APIs (e.g., <code id="the-messageevent-interface:websocket"><a href="web-sockets.html#websocket">WebSocket</a></code>, <code id="the-messageevent-interface:eventsource"><a href="server-sent-events.html#eventsource">EventSource</a></code>) use the <code id="the-messageevent-interface:messageevent-3"><a href="#messageevent">MessageEvent</a></code> interface for their <code id="the-messageevent-interface:event-message-2"><a href="indices.html#event-message">message</a></code> event without using the <code id="the-messageevent-interface:messageport-9"><a href="web-messaging.html#messageport">MessagePort</a></code> API.</p>


  <aside class="mdn before"><input onclick="toggleStatus(this)" value="⋰" type="button"><div><b>MDN</b><details><summary><a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events" title="Traditionally, a web page has to send a request to the server to receive new data; that is, the page requests data from the server. With server-sent events, it's possible for a server to send new data to a web page at any time, by pushing messages to the web page. These incoming messages can be treated as Events + data inside the web page.">Server-sent_events</a></summary><p class="mdnsupport"><span class="chrome yes"><span>Chrome</span><span>6+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="edge no"><span>Edge</span><span>No</span></span><span class="edge_mobile no"><span>Edge Mobile</span><span>No</span></span><span class="firefox yes"><span>Firefox</span><span>6+</span></span><span class="firefox_android yes"><span>Firefox Android</span><span>45+</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="opera_android yes"><span>Opera Android</span><span>12+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>5+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>Yes</span></span></details></div></aside><nav><a href="imagebitmap-and-animations.html">← 8.9 画像</a> — <a href="./">目次</a> — <a href="server-sent-events.html">9.2 サーバー送信イベント →</a></nav>
