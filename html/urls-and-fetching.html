<!DOCTYPE html><html class=split lang=ja>
<script src=/link-fixup.js defer=""></script><meta charset=utf-8><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name=viewport>
<title>HTML Standard 日本語訳</title><meta content=#3c790a name=theme-color><link rel=stylesheet href=https://resources.whatwg.org/spec.css><link rel=stylesheet href=https://resources.whatwg.org/standard.css><link rel=stylesheet href=https://resources.whatwg.org/standard-shared-with-dev.css><link href=https://resources.whatwg.org/logo.svg rel=icon>
<script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
  </script>
<style>
   .bad, .bad *:not(.X\58X) { color: gray; }

   .fingerprint { position: absolute; right: 0; z-index: 5; }
   @media (max-width: 767px) {
     .fingerprint { max-width: 35px; }
   }

   .applies .yes, .yesno .yes { background: yellow; }
   .yesno .yes, .yesno .no { text-align: center; }

   .applies thead th > * { display: block; }
   .applies thead code { display: block; }
   .applies td { text-align: center; }

   .matrix, .matrix td { border: hidden; text-align: right; }
   .matrix { margin-left: 2em; }

   .vertical-summary-table tr > th[rowspan="2"]:first-child + th,
   .vertical-summary-table tr > td[rowspan="2"]:first-child + td { border-bottom: hidden; }

   .dice-example { border-collapse: collapse; border-style: hidden solid solid hidden; border-width: thin; margin-left: 3em; }
   .dice-example caption { width: 30em; font-size: smaller; font-style: italic; padding: 0.75em 0; text-align: left; }
   .dice-example td, .dice-example th { border: solid thin; width: 1.35em; height: 1.05em; text-align: center; padding: 0; }

   td.eg { border-width: thin; text-align: center; }

   #table-example-1 { border: solid thin; border-collapse: collapse; margin-left: 3em; }
   #table-example-1 caption { padding-bottom: 0.5em; }
   #table-example-1 thead, #table-example-1 tbody { border: none; }
   #table-example-1 th, #table-example-1 td { border: solid thin; }
   #table-example-1 th { font-weight: normal; }
   #table-example-1 td { border-style: none solid; vertical-align: top; }
   #table-example-1 th { padding: 0.5em; vertical-align: middle; text-align: center; }
   #table-example-1 tbody tr:first-child td { padding-top: 0.5em; }
   #table-example-1 tbody tr:last-child td { padding-bottom: 1.5em; }
   #table-example-1 tbody td:first-child { padding-left: 2.5em; padding-right: 0; width: 9em; }
   #table-example-1 tbody td:first-child::after { content: leader(". "); }
   #table-example-1 tbody td { padding-left: 2em; padding-right: 2em; }
   #table-example-1 tbody td:first-child + td { width: 10em; }
   #table-example-1 tbody td:first-child + td ~ td { width: 2.5em; }
   #table-example-1 tbody td:first-child + td + td + td ~ td { width: 1.25em; }

   .apple-table-examples { border: none; border-collapse: separate; border-spacing: 1.5em 0em; width: 40em; margin-left: 3em; }
   .apple-table-examples * { font-family: "Times", serif; }
   .apple-table-examples td, .apple-table-examples th { border: none; white-space: nowrap; padding-top: 0; padding-bottom: 0; }
   .apple-table-examples tbody th:first-child { border-left: none; width: 100%; }
   .apple-table-examples thead th:first-child ~ th { font-size: smaller; font-weight: bolder; border-bottom: solid 2px; text-align: center; }
   .apple-table-examples tbody th::after, .apple-table-examples tfoot th::after { content: leader(". ") }
   .apple-table-examples tbody th, .apple-table-examples tfoot th { font: inherit; text-align: left; }
   .apple-table-examples td { text-align: right; vertical-align: top; }
   .apple-table-examples.e1 tbody tr:last-child td { border-bottom: solid 1px; }
   .apple-table-examples.e1 tbody + tbody tr:last-child td { border-bottom: double 3px; }
   .apple-table-examples.e2 th[scope=row] { padding-left: 1em; }
   .apple-table-examples sup { line-height: 0; }

   .three-column-nowrap tr > td:first-child,
   .three-column-nowrap tr > td:first-child + td,
   .three-column-nowrap tr > td:first-child + td + td { white-space: nowrap; }

   .details-example img { vertical-align: top; }

   .parse-error-table td > p:first-child { margin-top: 0; }

   #named-character-references-table {
     white-space: nowrap;
     font-size: 0.6em;
     column-width: 30em;
     column-gap: 1em;
     -moz-column-width: 30em;
     -moz-column-gap: 1em;
     -webkit-column-width: 30em;
     -webkit-column-gap: 1em;
   }
   #named-character-references-table > table > tbody > tr > td:first-child + td,
   #named-character-references-table > table > tbody > tr > td:last-child { text-align: center; }
   #named-character-references-table > table > tbody > tr > td:last-child:hover > span { position: absolute; top: auto; left: auto; margin-left: 0.5em; line-height: 1.2; font-size: 5em; border: outset; padding: 0.25em 0.5em; background: white; width: 1.25em; height: auto; text-align: center; }
   #named-character-references-table > table > tbody > tr#entity-CounterClockwiseContourIntegral > td:first-child { font-size: 0.5em; }

   .glyph.control { color: red; }

   #table-example-1 * { font-family: "Essays1743", serif; line-height: 1.01em; }
   @font-face {
     font-family: 'Essays1743';
     src: url('/fonts/Essays1743.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-weight: bold;
     src: url('/fonts/Essays1743-Bold.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-style: italic;
     src: url('/fonts/Essays1743-Italic.ttf');
   }
   @font-face {
     font-family: 'Essays1743';
     font-style: italic;
     font-weight: bold;
     src: url('/fonts/Essays1743-BoldItalic.ttf');
   }

   @media (max-width: 767px) {
     #abstractimg { width: 100%; }
   }
   #abstractimg, #abstractimg text { font: inherit; }
   #abstractimg rect { fill: #424242; }
   #abstractimg text { fill: #ffffff; font-size: 18px }
   #abstractimg .top { word-spacing: 50px; text-anchor: middle; }
   #abstractimg .left, #abstractimg .bottom { word-spacing: 12px; }
   #abstractimg .right { font-size: 25px; }
  </style>
<body>
  
  <script src=/html-dfn.js async=""></script>
  <script data-file-issue-url=https://github.com/whatwg/html/issues/new async="" src=https://resources.whatwg.org/file-issue.js></script>
  <header id=head class="head with-buttons">
   <a href=https://whatwg.org/ class=logo><img alt=WHATWG src=https://resources.whatwg.org/logo.svg width=100 height=100></a>
   <hgroup><h1 class=allcaps>HTML</h1><h2 id=living-standard class="no-num no-toc">Living Standard — Last Updated <span class=pubdate>8 March 2019</span></h2></hgroup>
   
   

   
  </header>

  

  

  

  
  

  
  

  

  <nav><a href=common-microsyntaxes.html>← 2.4 共通マイクロ構文</a> — <a href=./>目次</a> — <a href=common-dom-interfaces.html>2.7 共通DOMインターフェイス →</a></nav><ol class=toc><li id=toc-infrastructure><ol><li><a href=urls-and-fetching.html#urls><span class=secno>2.5</span> URL</a><ol><li><a href=urls-and-fetching.html#terminology-2><span class=secno>2.5.1</span> 用語</a></li><li><a href=urls-and-fetching.html#resolving-urls><span class=secno>2.5.2</span> Parsing URLs</a></li><li><a href=urls-and-fetching.html#dynamic-changes-to-base-urls><span class=secno>2.5.3</span> Dynamic changes to base URLs</a></li></ol></li><li><a href=urls-and-fetching.html#fetching-resources><span class=secno>2.6</span> リソースを取得する</a><ol><li><a href=urls-and-fetching.html#terminology-3><span class=secno>2.6.1</span> Terminology</a></li><li><a href=urls-and-fetching.html#content-type-sniffing><span class=secno>2.6.2</span> Determining the type of a resource</a></li><li><a href=urls-and-fetching.html#extracting-character-encodings-from-meta-elements><span class=secno>2.6.3</span> Extracting character encodings from <code>meta</code> elements</a></li><li><a href=urls-and-fetching.html#cors-settings-attributes><span class=secno>2.6.4</span> CORS設定属性</a></li><li><a href=urls-and-fetching.html#referrer-policy-attributes><span class=secno>2.6.5</span> リファラーポリシー属性</a></li><li><a href=urls-and-fetching.html#nonce-attributes><span class=secno>2.6.6</span> Nonce属性</a></li></ol></li></ol></li></ol><h3 id=urls><span class=secno>2.5</span> URL<a href=#urls class=self-link></a></h3>

  <h4 id=terminology-2><span class=secno>2.5.1</span> 用語<a href=#terminology-2 class=self-link></a></h4>

  <p><a id=terminology-2:valid-url-string href=https://triple-underscore.github.io/URL-ja.html#valid-url-string data-x-internal=valid-url-string>妥当なURL文字列</a>だが空文字列でない場合、文字列は<dfn id=valid-non-empty-url>妥当な空でないURL</dfn>である。</p>

  <p><a href=https://triple-underscore.github.io/infra-ja.html#strip-leading-and-trailing-ascii-whitespace id=terminology-2:strip-leading-and-trailing-ascii-whitespace data-x-internal=strip-leading-and-trailing-ascii-whitespace>先頭と末尾のASCII空白文字を取り除いた</a>あとに<a id=terminology-2:valid-url-string-2 href=https://triple-underscore.github.io/URL-ja.html#valid-url-string data-x-internal=valid-url-string>妥当なURL文字列</a>である場合、文字列は<dfn id=valid-url-potentially-surrounded-by-spaces>潜在的にスペースで囲まれた妥当なURL</dfn>である。</p>

  <p><a href=https://triple-underscore.github.io/infra-ja.html#strip-leading-and-trailing-ascii-whitespace id=terminology-2:strip-leading-and-trailing-ascii-whitespace-2 data-x-internal=strip-leading-and-trailing-ascii-whitespace>先頭と末尾のASCII空白文字を取り除いた</a>あとに、<a href=#valid-non-empty-url id=terminology-2:valid-non-empty-url>妥当な空でないURL</a>である場合、文字列は<dfn id=valid-non-empty-url-potentially-surrounded-by-spaces>潜在的にスペースで囲まれた妥当な空でないURL</dfn>である。</p>

  <p>この仕様は、たとえ解決不可能でも、XMLツールの互換性のために必要な場合、<a id=terminology-2:html-documents href=https://triple-underscore.github.io/DOM4-ja.html#html-document data-x-internal=html-documents>HTML文書</a>の<a href=syntax.html#syntax-doctype id=terminology-2:syntax-doctype>DOCTYPE</a>で用いるための<code id=terminology-2:about-protocol><a data-x-internal=about-protocol href=https://tools.ietf.org/html/rfc6694#section-2>about:</a></code> URL予約としてURL <dfn id=about:legacy-compat><code>about:legacy-compat</code></dfn>を定義する。<a href=references.html#refsABOUT>[ABOUT]</a></p>

  <p>この仕様は、たとえ解決不可能でも、メディアトラック類のための識別子として用いられる<code id=terminology-2:about-protocol-2><a data-x-internal=about-protocol href=https://tools.ietf.org/html/rfc6694#section-2>about:</a></code> URLを予約としてURL <dfn id=about:html-kind><code>about:html-kind</code></dfn>を定義する。<a href=references.html#refsABOUT>[ABOUT]</a></p>

  <p>この仕様は、たとえ解決不可能でも、<a href=iframe-embed-object.html#an-iframe-srcdoc-document id=terminology-2:an-iframe-srcdoc-document><code>iframe</code> <code>srcdoc</code>文書</a>の<a href=https://triple-underscore.github.io/DOM4-ja.html#concept-document-url id="terminology-2:the-document's-address" data-x-internal="the-document's-address">URL</a>として用いられる<code id=terminology-2:about-protocol-3><a data-x-internal=about-protocol href=https://tools.ietf.org/html/rfc6694#section-2>about:</a></code> URLを予約としてURL <dfn id=about:srcdoc><code>about:srcdoc</code></dfn>を定義する。<a href=references.html#refsABOUT>[ABOUT]</a></p>

  <p><code id=terminology-2:document><a href=dom.html#document>Document</a></code>オブジェクト<var>document</var>の<dfn id=fallback-base-url>フォールバック基底URL</dfn>は、次の手順を実行して得られる<a id=terminology-2:url-record href=https://triple-underscore.github.io/URL-ja.html#concept-url data-x-internal=url-record>URLレコード</a>である：</p>

  <ol><li><p><var>Document</var>が<a id=terminology-2:an-iframe-srcdoc-document-2 href=iframe-embed-object.html#an-iframe-srcdoc-document><code>iframe</code> <code>srcdoc</code>文書</a>である場合、<var>document</var>の<a href=browsers.html#concept-document-bc id=terminology-2:concept-document-bc>ブラウジングコンテキスト</a>がもつ<a id=terminology-2:browsing-context-container href=browsers.html#browsing-context-container>ブラウジングコンテキストコンテナ</a>の<a id=terminology-2:node-document href=https://triple-underscore.github.io/DOM4-ja.html#concept-node-document data-x-internal=node-document>ノード文書</a>に属する<a href=#document-base-url id=terminology-2:document-base-url>文書基底URL</a>を返す。</li><li>

    

    

    <p><var>document</var>の<a href=https://triple-underscore.github.io/DOM4-ja.html#concept-document-url id="terminology-2:the-document's-address-2" data-x-internal="the-document's-address">URL</a>が<code id=terminology-2:about:blank><a href=infrastructure.html#about:blank>about:blank</a></code>であり、かつ<var>document</var>の<a href=browsers.html#concept-document-bc id=terminology-2:concept-document-bc-2>ブラウジングコンテキスト</a>の<a id=terminology-2:creator-base-url href=browsers.html#creator-base-url>クリエイター基底URL</a>が非nullである場合、<a id=terminology-2:creator-base-url-2 href=browsers.html#creator-base-url>クリエイター基底URL</a>を返す。</p>

   </li><li><p><var>document</var>の<a href=https://triple-underscore.github.io/DOM4-ja.html#concept-document-url id="terminology-2:the-document's-address-3" data-x-internal="the-document's-address">URL</a>を返す。</li></ol>

  <p><code id=terminology-2:document-2><a href=dom.html#document>Document</a></code>オブジェクトの<dfn id=document-base-url data-export="">文書基底URL</dfn>は、次の手順を実行して得られる<a id=terminology-2:absolute-url href=https://triple-underscore.github.io/URL-ja.html#syntax-url-absolute data-x-internal=absolute-url>絶対URL</a>である：</p>

  <ol><li><p><code id=terminology-2:document-3><a href=dom.html#document>Document</a></code>に<code id=terminology-2:attr-base-href><a href=semantics.html#attr-base-href>href</a></code>属性を持つ<code id=terminology-2:the-base-element><a href=semantics.html#the-base-element>base</a></code>要素が存在しない場合、<code id=terminology-2:document-4><a href=dom.html#document>Document</a></code>の<a href=#fallback-base-url id=terminology-2:fallback-base-url>フォールバック基底URL</a>を返す。</li><li><p>そうでなければ、<a id=terminology-2:tree-order href=https://triple-underscore.github.io/DOM4-ja.html#concept-tree-order data-x-internal=tree-order>ツリー順</a>で、<code id=terminology-2:attr-base-href-2><a href=semantics.html#attr-base-href>href</a></code>属性を持つ<code id=terminology-2:document-5><a href=dom.html#document>Document</a></code>で最初の<code id=terminology-2:the-base-element-2><a href=semantics.html#the-base-element>base</a></code>要素の<a id=terminology-2:frozen-base-url href=semantics.html#frozen-base-url>凍結基底URL</a>を返す。</li></ol>


  

  <h4 id=resolving-urls><span class=secno>2.5.2</span> Parsing URLs<a href=#resolving-urls class=self-link></a></h4>

  <p>Parsing a URL is the process of taking a string and obtaining the <a id=resolving-urls:url-record href=https://triple-underscore.github.io/URL-ja.html#concept-url data-x-internal=url-record>URL record</a> that
  it represents. While this process is defined in the WHATWG URL standard, the HTML standard defines
  a wrapper for convenience. <a href=references.html#refsURL>[URL]</a></p>

  <p class=note>This wrapper is only useful when the character encoding for the URL parser has to
  match that of the document or environment settings object for legacy reasons. When that is not the
  case the <a id=resolving-urls:url-parser href=https://triple-underscore.github.io/URL-ja.html#concept-url-parser data-x-internal=url-parser>URL parser</a> can be used directly.</p>

  <p id=resolve-a-url>To <dfn id=parse-a-url>parse a URL</dfn> <var>url</var>, relative to either a
  <var>document</var> or <var>environment settings object</var>, the user agent must use the
  following steps. Parsing a URL either results in failure or a <a href=#resulting-url-string id=resolving-urls:resulting-url-string>resulting URL string</a>
  and <a href=#resulting-url-record id=resolving-urls:resulting-url-record>resulting URL record</a>.</p>

  <ol><li><p>Let <var>encoding</var> be <var>document</var>'s <a href=https://triple-underscore.github.io/DOM4-ja.html#concept-document-encoding id="resolving-urls:document's-character-encoding" data-x-internal="document's-character-encoding">character encoding</a>, if <var>document</var> was given, and <var>environment
   settings object</var>'s <a id=resolving-urls:api-url-character-encoding href=webappapis.html#api-url-character-encoding>API URL character encoding</a> otherwise.</li><li><p>Let <var>baseURL</var> be <var>document</var>'s <a href=#document-base-url id=resolving-urls:document-base-url>base
   URL</a>, if <var>document</var> was given, and <var>environment settings object</var>'s
   <a id=resolving-urls:api-base-url href=webappapis.html#api-base-url>API base URL</a> otherwise.</li><li><p>Let <var>urlRecord</var> be the result of applying the <a id=resolving-urls:url-parser-2 href=https://triple-underscore.github.io/URL-ja.html#concept-url-parser data-x-internal=url-parser>URL parser</a> to
   <var>url</var>, with <var>baseURL</var> and <var>encoding</var>.</li><li><p>If <var>urlRecord</var> is failure, then return failure.</li><li><p>Let <var>urlString</var> be the result of applying the <a href=https://triple-underscore.github.io/URL-ja.html#concept-url-serializer id=resolving-urls:concept-url-serializer data-x-internal=concept-url-serializer>URL serializer</a> to <var>urlRecord</var>.</li><li><p>Return <var>urlString</var> as the <dfn id=resulting-url-string>resulting URL string</dfn> and
   <var>urlRecord</var> as the <dfn id=resulting-url-record>resulting URL record</dfn>.</li></ol>

  



  

  <h4 id=dynamic-changes-to-base-urls><span class=secno>2.5.3</span> Dynamic changes to base URLs<a href=#dynamic-changes-to-base-urls class=self-link></a></h4>

  <p>When a document's <a href=#document-base-url id=dynamic-changes-to-base-urls:document-base-url>document base URL</a> changes, all elements in that document are
  <a id=dynamic-changes-to-base-urls:affected-by-a-base-url-change href=infrastructure.html#affected-by-a-base-url-change>affected by a base URL change</a>.</p>

  <p>The following are <a id=dynamic-changes-to-base-urls:base-url-change-steps href=infrastructure.html#base-url-change-steps>base URL change steps</a>, which run when an element is
  <a id=dynamic-changes-to-base-urls:affected-by-a-base-url-change-2 href=infrastructure.html#affected-by-a-base-url-change>affected by a base URL change</a> (as defined by the DOM specification):</p>

  <dl class=switch><dt>If the element creates a <a id=dynamic-changes-to-base-urls:hyperlink href=links.html#hyperlink>hyperlink</a><dd>

    <p>If the <a id=dynamic-changes-to-base-urls:url href=https://triple-underscore.github.io/URL-ja.html#concept-url data-x-internal=url>URL</a> identified by the hyperlink is being shown to the user, or if any
    data derived from that <a id=dynamic-changes-to-base-urls:url-2 href=https://triple-underscore.github.io/URL-ja.html#concept-url data-x-internal=url>URL</a> is affecting the display, then the <code id=dynamic-changes-to-base-urls:attr-hyperlink-href><a href=links.html#attr-hyperlink-href>href</a></code> attribute should be <a href=#parse-a-url id=dynamic-changes-to-base-urls:parse-a-url>reparsed</a> relative to the element's <a id=dynamic-changes-to-base-urls:node-document href=https://triple-underscore.github.io/DOM4-ja.html#concept-node-document data-x-internal=node-document>node document</a> and the UI updated
    appropriately.</p>

    <p class=example>For example, the CSS <code id=dynamic-changes-to-base-urls:selector-link><a href=semantics-other.html#selector-link>:link</a></code>/<code id=dynamic-changes-to-base-urls:selector-visited><a href=semantics-other.html#selector-visited>:visited</a></code> <a href=https://triple-underscore.github.io/selectors4-ja.html#pseudo-class id=dynamic-changes-to-base-urls:pseudo-class data-x-internal=pseudo-class>pseudo-classes</a>
    might have been affected.</p>

    <p>If the hyperlink has a <code id=dynamic-changes-to-base-urls:ping><a href=links.html#ping>ping</a></code> attribute and its
    <a href=https://triple-underscore.github.io/URL-ja.html#concept-url id=dynamic-changes-to-base-urls:url-3 data-x-internal=url>URL(s)</a> are being shown to the user, then the <code id=dynamic-changes-to-base-urls:ping-2><a href=links.html#ping>ping</a></code> attribute's tokens should be <a href=#parse-a-url id=dynamic-changes-to-base-urls:parse-a-url-2>reparsed</a> relative to the element's <a id=dynamic-changes-to-base-urls:node-document-2 href=https://triple-underscore.github.io/DOM4-ja.html#concept-node-document data-x-internal=node-document>node document</a> and the UI updated
    appropriately.</p>

   <dt>If the element is a <code id=dynamic-changes-to-base-urls:the-q-element><a href=text-level-semantics.html#the-q-element>q</a></code>, <code id=dynamic-changes-to-base-urls:the-blockquote-element><a href=grouping-content.html#the-blockquote-element>blockquote</a></code>, <code id=dynamic-changes-to-base-urls:the-ins-element><a href=edits.html#the-ins-element>ins</a></code>, or
   <code id=dynamic-changes-to-base-urls:the-del-element><a href=edits.html#the-del-element>del</a></code> element with a <code>cite</code> attribute<dd>

    <p>If the <a id=dynamic-changes-to-base-urls:url-4 href=https://triple-underscore.github.io/URL-ja.html#concept-url data-x-internal=url>URL</a> identified by the <code>cite</code> attribute is being
    shown to the user, or if any data derived from that <a id=dynamic-changes-to-base-urls:url-5 href=https://triple-underscore.github.io/URL-ja.html#concept-url data-x-internal=url>URL</a> is affecting the display,
    then the <a id=dynamic-changes-to-base-urls:url-6 href=https://triple-underscore.github.io/URL-ja.html#concept-url data-x-internal=url>URL</a> should be <a href=#parse-a-url id=dynamic-changes-to-base-urls:parse-a-url-3>reparsed</a> relative to the
    element's <a id=dynamic-changes-to-base-urls:node-document-3 href=https://triple-underscore.github.io/DOM4-ja.html#concept-node-document data-x-internal=node-document>node document</a> and the UI updated appropriately.</p>

   <dt>そうでなければ<dd>

    <p>The element is not directly affected.</p>

    <p class=example>For instance, changing the base URL doesn't affect the image displayed by
    <code id=dynamic-changes-to-base-urls:the-img-element><a href=embedded-content.html#the-img-element>img</a></code> elements, although subsequent accesses of the <code id=dynamic-changes-to-base-urls:dom-img-src><a href=embedded-content.html#dom-img-src>src</a></code> IDL attribute from script will return a new <a id=dynamic-changes-to-base-urls:absolute-url href=https://triple-underscore.github.io/URL-ja.html#syntax-url-absolute data-x-internal=absolute-url>absolute
    URL</a> that might no longer correspond to the image being shown.</p>

   </dl>

  


  

  <h3 id=fetching-resources><span class=secno>2.6</span> リソースを取得する<a href=#fetching-resources class=self-link></a></h3>

  <h4 id=terminology-3><span class=secno>2.6.1</span> Terminology<a href=#terminology-3 class=self-link></a></h4>

  <p>A <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-response id=terminology-3:concept-response data-x-internal=concept-response>response</a> whose <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-response id=terminology-3:concept-response-type data-x-internal=concept-response-type>type</a> is "<code>basic</code>", "<code>cors</code>", or "<code>default</code>" is <dfn id=cors-same-origin data-export="">CORS-same-origin</dfn>. <a href=references.html#refsFETCH>[FETCH]</a></p>

  <p>A <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-response id=terminology-3:concept-response-2 data-x-internal=concept-response>response</a> whose <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-response id=terminology-3:concept-response-type-2 data-x-internal=concept-response-type>type</a> is "<code>opaque</code>" or "<code>opaqueredirect</code>" is <dfn id=cors-cross-origin>CORS-cross-origin</dfn>.</p>

  <p>A <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-response id=terminology-3:concept-response-3 data-x-internal=concept-response>response</a>'s <dfn id=unsafe-response data-export="">unsafe response</dfn>
  is its <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-internal-response id=terminology-3:concept-internal-response data-x-internal=concept-internal-response>internal response</a> if it has one, and the
  <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-response id=terminology-3:concept-response-4 data-x-internal=concept-response>response</a> itself otherwise.</p>

  <p>To <dfn id=create-a-potential-cors-request>create a potential-CORS request</dfn>, given a <var>url</var>, <var>destination</var>,
  <var>corsAttributeState</var>, and an optional <i>same-origin fallback flag</i>, run these
  steps:</p>

  <ol><li><p>Let <var>mode</var> be "<code>no-cors</code>" if <var>corsAttributeState</var>
   is <a href=#attr-crossorigin-none id=terminology-3:attr-crossorigin-none>No CORS</a>, and "<code>cors</code>"
   otherwise.</li><li><p>If <i>same-origin fallback flag</i> is set and <var>mode</var> is "<code>no-cors</code>", set <var>mode</var> to "<code>same-origin</code>".</li><li><p>Let <var>credentialsMode</var> be "<code>include</code>".</li><li><p>If <var>corsAttributeState</var> is <a href=#attr-crossorigin-anonymous id=terminology-3:attr-crossorigin-anonymous>Anonymous</a>, set <var>credentialsMode</var> to "<code>same-origin</code>".</li><li><p>Let <var>request</var> be a new <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request id=terminology-3:concept-request data-x-internal=concept-request>request</a> whose
   <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-url id=terminology-3:concept-request-url data-x-internal=concept-request-url>url</a> is <var>url</var>, <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-destination id=terminology-3:concept-request-destination data-x-internal=concept-request-destination>destination</a> is <var>destination</var>,
   <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-mode id=terminology-3:concept-request-mode data-x-internal=concept-request-mode>mode</a> is <var>mode</var>, <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-credentials-mode id=terminology-3:concept-request-credentials-mode data-x-internal=concept-request-credentials-mode>credentials mode</a> is
   <var>credentialsMode</var>, and whose <a id=terminology-3:use-url-credentials-flag href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-use-url-credentials-flag data-x-internal=use-url-credentials-flag>use-URL-credentials flag</a> is set.</li></ol>


  <h4 id=content-type-sniffing><span class=secno>2.6.2</span> Determining the type of a resource<a href=#content-type-sniffing class=self-link></a></h4>

  <p>The <dfn id=content-type>Content-Type metadata</dfn> of a resource must be obtained and
  interpreted in a manner consistent with the requirements of the WHATWG MIME Sniffing standard.
  <a href=references.html#refsMIMESNIFF>[MIMESNIFF]</a></p>

  <p>The <dfn id=content-type-sniffing-2><a href=https://mimesniff.spec.whatwg.org/#computed-mime-type>computed MIME type</a></dfn> of a
  resource must be found in a manner consistent with the requirements given in the WHATWG MIME
  Sniffing standard. <a href=references.html#refsMIMESNIFF>[MIMESNIFF]</a></p>

  <p>The <dfn id=content-type-sniffing:-image><a href=https://mimesniff.spec.whatwg.org/#rules-for-sniffing-images-specifically>rules for
  sniffing images specifically</a></dfn>, the <dfn id=content-type-sniffing:-text-or-binary><a href=https://mimesniff.spec.whatwg.org/#rules-for-text-or-binary>rules for distinguishing
  if a resource is text or binary</a></dfn>, and the <dfn id=content-type-sniffing:-video><a href=https://mimesniff.spec.whatwg.org/#rules-for-sniffing-audio-and-video-specifically>rules
  for sniffing audio and video specifically</a></dfn> are also defined in the WHATWG MIME Sniffing
  standard. These rules return a <a id=content-type-sniffing:mime-type href=https://mimesniff.spec.whatwg.org/#mime-type data-x-internal=mime-type>MIME type</a> as their result. <a href=references.html#refsMIMESNIFF>[MIMESNIFF]</a></p>

  <p class=warning>It is imperative that the rules in the WHATWG MIME Sniffing standard be
  followed exactly. When a user agent uses different heuristics for content type detection than the
  server expects, security problems can occur. For more details, see the WHATWG MIME Sniffing
  standard. <a href=references.html#refsMIMESNIFF>[MIMESNIFF]</a></p>


  <h4 id=extracting-character-encodings-from-meta-elements><span class=secno>2.6.3</span> Extracting character encodings from <code id=extracting-character-encodings-from-meta-elements:the-meta-element><a href=semantics.html#the-meta-element>meta</a></code> elements<a href=#extracting-character-encodings-from-meta-elements class=self-link></a></h4>

  <p>The <dfn id=algorithm-for-extracting-a-character-encoding-from-a-meta-element>algorithm for extracting a character encoding from a <code>meta</code> element</dfn>,
  given a string <var>s</var>, is as follows. It either returns a character encoding or
  nothing.</p>

  <ol><li><p>Let <var>position</var> be a pointer into <var>s</var>, initially
   pointing at the start of the string.</li><li><p><i>Loop</i>: Find the first seven characters in <var>s</var> after <var>position</var> that are an <a id=extracting-character-encodings-from-meta-elements:ascii-case-insensitive href=https://triple-underscore.github.io/infra-ja.html#ascii-case-insensitive data-x-internal=ascii-case-insensitive>ASCII case-insensitive</a> match for the word "<code>charset</code>". If no such match is found, return nothing.</li><li><p>Skip any <a id=extracting-character-encodings-from-meta-elements:space-characters href=https://triple-underscore.github.io/infra-ja.html#ascii-whitespace data-x-internal=space-characters>ASCII whitespace</a> that immediately follow the word "<code>charset</code>" (there might not be any).</li><li><p>If the next character is not a U+003D EQUALS SIGN (=), then move <var>position</var> to point just before that next character, and jump back to the step
   labeled <i>loop</i>.</li><li><p>Skip any <a id=extracting-character-encodings-from-meta-elements:space-characters-2 href=https://triple-underscore.github.io/infra-ja.html#ascii-whitespace data-x-internal=space-characters>ASCII whitespace</a> that immediately follow the equals sign (there
   might not be any).</li><li>

    <p>Process the next character as follows:</p>

    <dl class=switch><dt>If it is a U+0022 QUOTATION MARK character (") and there is a later U+0022 QUOTATION MARK character (") in <var>s</var><dt>If it is a U+0027 APOSTROPHE character (') and there is a later U+0027 APOSTROPHE character (') in <var>s</var><dd>Return the result of <a id=extracting-character-encodings-from-meta-elements:getting-an-encoding href=https://triple-underscore.github.io/Encoding-ja.html#concept-encoding-get data-x-internal=getting-an-encoding>getting an encoding</a> from the substring that is between
     this character and the next earliest occurrence of this character.<dt>If it is an unmatched U+0022 QUOTATION MARK character (")<dt>If it is an unmatched U+0027 APOSTROPHE character (')<dt>If there is no next character<dd>Return nothing.<dt>そうでなければ<dd>Return the result of <a id=extracting-character-encodings-from-meta-elements:getting-an-encoding-2 href=https://triple-underscore.github.io/Encoding-ja.html#concept-encoding-get data-x-internal=getting-an-encoding>getting an encoding</a> from the substring that consists of
     this character up to but not including the first <a id=extracting-character-encodings-from-meta-elements:space-characters-3 href=https://triple-underscore.github.io/infra-ja.html#ascii-whitespace data-x-internal=space-characters>ASCII whitespace</a> or U+003B
     SEMICOLON character (;), or the end of <var>s</var>, whichever comes first.</dl>

   </li></ol>

  <p class=note>This algorithm is distinct from those in the HTTP specification (for example, HTTP
  doesn't allow the use of single quotes and requires supporting a backslash-escape mechanism that
  is not supported by this algorithm). While the algorithm is used in
  contexts that, historically, were related to HTTP, the syntax as supported by implementations
  diverged some time ago. <a href=references.html#refsHTTP>[HTTP]</a></p>

  


  <aside class="mdn before"><input onclick=toggleStatus(this) value=⋰ type=button><div><b>MDN</b> <details><summary><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes title="In HTML5, some HTML elements which provide support for CORS, such as img, video or script, have a crossorigin attribute (crossOrigin property), which lets you configure the CORS requests for the element's fetched data.">CORS_settings_attributes</a></summary><p class=mdnsupport><span class="chrome yes"><span>Chrome</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>Yes</span></span><span class="edge yes"><span>Edge</span><span>Yes</span></span><span class="edge_mobile yes"><span>Edge Mobile</span><span>Yes</span></span><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="firefox_android yes"><span>Firefox Android</span><span>Yes</span></span><span class="ie yes"><span>Internet Explorer</span><span>Yes</span></span><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>Yes</span></span><span class="webview_android yes"><span>WebView Android</span><span>Yes</span></span></details></div></aside><h4 id=cors-settings-attributes><span class=secno>2.6.4</span> CORS設定属性<a href=#cors-settings-attributes class=self-link></a></h4>

  <p><dfn id=cors-settings-attribute>CORS設定属性</dfn>は、<a id=cors-settings-attributes:enumerated-attribute href=common-microsyntaxes.html#enumerated-attribute>列挙属性</a>である。次の表は、キーワードと属性の状態を示す。1列目のキーワードは、キーワードと同じ行で2列目のセル内の状態に対応づける。</p>

  <table><thead><tr><th> キーワード
     </th><th> 状態
     </th><th> 概要
   <tbody></th></tr><tr><td><dfn id=attr-crossorigin-anonymous-keyword><code>anonymous</code></dfn>
     </td><td><dfn id=attr-crossorigin-anonymous>Anonymous</dfn>
     </td><td>要素に対する<a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request id=cors-settings-attributes:concept-request data-x-internal=concept-request>リクエスト</a>は、"<code>cors</code>"に設定されるリクエストの<a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-mode id=cors-settings-attributes:concept-request-mode data-x-internal=concept-request-mode>モード</a>および"<code>same-origin</code>"に設定されるリクエストの<a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-credentials-mode id=cors-settings-attributes:concept-request-credentials-mode data-x-internal=concept-request-credentials-mode>認証情報モード</a>を持つ。
    </td></tr><tr><td><dfn id=attr-crossorigin-use-credentials-keyword><code>use-credentials</code></dfn>
     </td><td><dfn id=attr-crossorigin-use-credentials>Use Credentials</dfn>
     </td><td>要素に対する<a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request id=cors-settings-attributes:concept-request-2 data-x-internal=concept-request>リクエスト</a>は、"<code>cors</code>"に設定されるリクエストの<a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-mode id=cors-settings-attributes:concept-request-mode-2 data-x-internal=concept-request-mode>モード</a>および"<code>include</code>"に設定されるリクエストの<a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-credentials-mode id=cors-settings-attributes:concept-request-credentials-mode-2 data-x-internal=concept-request-credentials-mode>認証情報モード</a>を持つ。
  </td></tr></table>

  <p>空文字列も妥当なキーワードであり、<a href=#attr-crossorigin-anonymous id=cors-settings-attributes:attr-crossorigin-anonymous>匿名</a>状態に対応づける。属性の<i id=cors-settings-attributes:invalid-value-default><a href=common-microsyntaxes.html#invalid-value-default>不正な値のデフォルト</a></i>は、<a href=#attr-crossorigin-anonymous id=cors-settings-attributes:attr-crossorigin-anonymous-2>匿名</a>状態である。<a href=common-dom-interfaces.html#reflect id=cors-settings-attributes:reflect>反射</a>のために、<a href=#attr-crossorigin-anonymous id=cors-settings-attributes:attr-crossorigin-anonymous-3>匿名</a>状態の正規ケースは<code id=cors-settings-attributes:attr-crossorigin-anonymous-keyword><a href=#attr-crossorigin-anonymous-keyword>anonymous</a></code>キーワードである。属性が省略された場合に用いられる、<i id=cors-settings-attributes:missing-value-default><a href=common-microsyntaxes.html#missing-value-default>欠損値のデフォルト</a></i>は、<dfn id=attr-crossorigin-none>No CORS</dfn>状態である。</p>

  <p>The majority of fetches governed by <a href=#cors-settings-attribute id=cors-settings-attributes:cors-settings-attribute>CORS settings
  attributes</a> will be done via the <a href=#create-a-potential-cors-request id=cors-settings-attributes:create-a-potential-cors-request>create a potential-CORS request</a> algorithm.</p>

  <p>For <a href=webappapis.html#module-script id=cors-settings-attributes:module-script>module scripts</a>, certain <a href=#cors-settings-attribute id=cors-settings-attributes:cors-settings-attribute-2>CORS settings attributes</a> have been repurposed to have a slightly different meaning, wherein they only impact the <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request id=cors-settings-attributes:concept-request-3 data-x-internal=concept-request>request</a>'s <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-credentials-mode id=cors-settings-attributes:concept-request-credentials-mode-3 data-x-internal=concept-request-credentials-mode>credentials mode</a> (since the <a href=https://triple-underscore.github.io/Fetch-ja.html#concept-request-mode id=cors-settings-attributes:concept-request-mode-3 data-x-internal=concept-request-mode>mode</a> is always "<code>cors</code>"). この変換を実行するために、属性の状態をオンにすることで決定するような、与えられた<a href=#cors-settings-attribute id=cors-settings-attributes:cors-settings-attribute-3>CORS設定属性</a>の<dfn id=module-script-credentials-mode>モジュールスクリプト資格情報モード</dfn>を定義する。</p>

  <dl class=switch><dt><a href=#attr-crossorigin-none id=cors-settings-attributes:attr-crossorigin-none>No CORS</a><dt><a href=#attr-crossorigin-anonymous id=cors-settings-attributes:attr-crossorigin-anonymous-4>Anonymous</a><dd>"<code>same-origin</code>"<dt><a href=#attr-crossorigin-none id=cors-settings-attributes:attr-crossorigin-none-2>Use Credentials</a><dd>"<code>include</code>"</dl>


  <h4 id=referrer-policy-attributes><span class=secno>2.6.5</span> リファラーポリシー属性<a href=#referrer-policy-attributes class=self-link></a></h4>

  <p><dfn id=referrer-policy-attribute data-export="">リファラポリシー属性</dfn>は、<a id=referrer-policy-attributes:enumerated-attribute href=common-microsyntaxes.html#enumerated-attribute>列挙属性</a>である。空文字列を含む各<a id=referrer-policy-attributes:referrer-policy href=https://w3c.github.io/webappsec-referrer-policy/#referrer-policy data-x-internal=referrer-policy>リファラーポリシー</a>は、同じ名前の状態にマッピングする、この属性のためのキーワードである。</p>

  <p>属性の<i id=referrer-policy-attributes:invalid-value-default><a href=common-microsyntaxes.html#invalid-value-default>不正値のデフォルト</a></i>および<i id=referrer-policy-attributes:missing-value-default><a href=common-microsyntaxes.html#missing-value-default>欠損値のデフォルト</a></i>の両方は、空文字列状態である。</p>

  <p>様々な<a href=https://triple-underscore.github.io/Fetch-ja.html#concept-fetch id=referrer-policy-attributes:concept-fetch data-x-internal=concept-fetch>フェッチ</a>の処理モデルにこの状態の影響は、WHATWG Fetch標準、および<cite>Referrer Policy</cite>で、この仕様を通してより詳細に定義される。<a href=references.html#refsFETCH>[FETCH]</a> <a href=references.html#refsREFERRERPOLICY>[REFERRERPOLICY]</a></p>

  <div class=note>
   <p>複数の信号は、どの処理モデルが与えられる<a href=https://triple-underscore.github.io/Fetch-ja.html#concept-fetch id=referrer-policy-attributes:concept-fetch-2 data-x-internal=concept-fetch>フェッチ</a>に使用されるかに寄与することができる。<a href=#referrer-policy-attribute id=referrer-policy-attributes:referrer-policy-attribute>リファラポリシー属性</a>はそのうちの一つである。一般に、この信号が処理される順序は次のとおり：</p>

   <ol><li><p>まず、<code id=referrer-policy-attributes:link-type-noreferrer><a href=links.html#link-type-noreferrer>noreferrer</a></code>リンクタイプの存在</li><li><p>次に、<a href=#referrer-policy-attribute id=referrer-policy-attributes:referrer-policy-attribute-2>リファラーポリシー属性</a>の値</li><li><p>それから<code id=referrer-policy-attributes:meta-referrer><a href=semantics.html#meta-referrer>referrer</a></code>に設定される<code id=referrer-policy-attributes:attr-meta-name><a href=semantics.html#attr-meta-name>name</a></code>をもつ任意の<code id=referrer-policy-attributes:the-meta-element><a href=semantics.html#the-meta-element>meta</a></code>要素の存在</li><li><p>最後に、`<code id=referrer-policy-attributes:http-referrer-policy><a data-x-internal=http-referrer-policy href=https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-header-dfn>Referrer-Policy</a></code>` HTTPヘッダー。</li></ol>
  </div>

  <h4 id=nonce-attributes><span class=secno>2.6.6</span> Nonce属性<a href=#nonce-attributes class=self-link></a></h4>

  <aside class="mdn before"><input onclick=toggleStatus(this) value=⋰ type=button><div><b>MDN</b> <details><summary><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/nonce title="The nonce property of the HTMLElement interface returns the cryptographic number used once that is used by Content Security Policy to determine whether a given fetch will be allowed to proceed.">HTMLElement/nonce</a></summary><p class=mdnsupport><span class="chrome yes"><span>Chrome</span><span>61+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>61+</span></span><span class="edge no"><span>Edge</span><span>No</span></span><span class="edge_mobile no"><span>Edge Mobile</span><span>No</span></span><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="firefox_android no"><span>Firefox Android</span><span>No</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span><span class="safari unknown"><span>Safari</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>61+</span></span></details></div></aside><p><dfn data-dfn-for=htmlsvg-global id=attr-nonce data-dfn-type=element-attr data-export="">nonce</dfn>コンテンツ属性は、与えられたフェッチが処理されてもよいどうかを判断するために<cite>Content Security Policy</cite>で使用することができる暗号ノンス（"一度使用される数字"）を表す。値はテキストである。<a href=references.html#refsCSP>[CSP]</a></p>

  <p><code id=nonce-attributes:attr-nonce><a href=#attr-nonce>nonce</a></code>コンテンツ属性を持つ要素は、コンテンツ属性から値を抽出し、その値を<dfn data-dfn-for=HTMLOrSVGElement id=cryptographicnonce data-dfn-type=attribute data-export="">[[CryptographicNonce]]</dfn>という名前の内部スロットに移動し、<code id=nonce-attributes:htmlorsvgelement><a href=dom.html#htmlorsvgelement>HTMLOrSVGElement</a></code>インターフェイスミックスインを介してスクリプトに公開することによって、暗号nonceがスクリプト（かつCSS属性セレクターなどのサイドチャネルではない）にのみ公開されることを保証する。特に指定しない限り、スロットの値は空の文字列である。</p>

  <dl class=domintro><dt><var>element</var> . <code>nonce</code><dd>
    <p>要素の<a href=#cryptographicnonce id=nonce-attributes:cryptographicnonce>[[CryptographicNonce]]</a>内部スロットの値を返す。</p>
    <p>そのスロットの値を更新するために設定することができる。</p>
   </dl>

  <p>取得時に、<dfn data-dfn-for=HTMLOrSVGElement id=dom-noncedelement-nonce data-dfn-type=attribute data-export=""><code>nonce</code></dfn> IDL属性は、この要素の<a href=#cryptographicnonce id=nonce-attributes:cryptographicnonce-2>[[CryptographicNonce]]</a>の値を返さなければならない。この要素の<a href=#cryptographicnonce id=nonce-attributes:cryptographicnonce-3>[[CryptographicNonce]]</a>を指定された値に設定する。</p>

  <p id=nonce-does-not-update-dom class=note><code id=nonce-attributes:dom-noncedelement-nonce><a href=#dom-noncedelement-nonce>nonce</a></code> IDL属性のセッターが対応するcontent属性を更新しないことに注意されたい。これは、要素が<a id=nonce-attributes:becomes-browsing-context-connected href=infrastructure.html#becomes-browsing-context-connected>ブラウジングコンテキストに接続された</a>ときに以下の<code id=nonce-attributes:attr-nonce-2><a href=#attr-nonce>nonce</a></code>コンテンツ属性を空の文字列に設定するのと同様に、セレクターなどのコンテンツ属性をより簡単に読み取ることができるメカニズムによるnonce値の流出を防ぐことを意味する。この動作が導入された<a href=https://github.com/whatwg/html/issues/2369>issue #2369</a>で詳細を確認されたい。</p>

  <p><code id=nonce-attributes:htmlorsvgelement-2><a href=dom.html#htmlorsvgelement>HTMLOrSVGElement</a></code>を含む要素に<code id=nonce-attributes:attr-nonce-3><a href=#attr-nonce>nonce</a></code>属性が設定または変更されるたびに、この要素の<a href=#cryptographicnonce id=nonce-attributes:cryptographicnonce-4>[[CryptographicNonce]]</a>を指定された値に設定する。</p>

  <p>Whenever an element including <code id=nonce-attributes:htmlorsvgelement-3><a href=dom.html#htmlorsvgelement>HTMLOrSVGElement</a></code> <a id=nonce-attributes:becomes-browsing-context-connected-2 href=infrastructure.html#becomes-browsing-context-connected>becomes browsing-context
  connected</a>, the user agent must execute the following steps on the <var>element</var>:</p>

  <ol><li><p>Let <var>CSP list</var> be <var>element</var>'s <a href=https://triple-underscore.github.io/DOM4-ja.html#concept-shadow-including-root id=nonce-attributes:shadow-including-root data-x-internal=shadow-including-root>shadow-including root</a>'s <a href=dom.html#concept-document-csp-list id=nonce-attributes:concept-document-csp-list>CSP
   list</a>.</li><li>
    <p>If <var>CSP list</var> <a id=nonce-attributes:contains-a-header-delivered-content-security-policy href=https://w3c.github.io/webappsec-csp/#contains-a-header-delivered-content-security-policy data-x-internal=contains-a-header-delivered-content-security-policy>contains a header-delivered Content Security Policy</a>, and
    <var>element</var> has a <code id=nonce-attributes:attr-nonce-4><a href=#attr-nonce>nonce</a></code> content attribute
    <var>attr</var> whose value is not the empty string, then:</p>

    <ol><li><p><a href=https://triple-underscore.github.io/DOM4-ja.html#concept-element-attributes-set-value id=nonce-attributes:concept-element-attributes-set-value data-x-internal=concept-element-attributes-set-value>Set an attribute value</a> for
     <var>element</var> using "<code id=nonce-attributes:attr-nonce-5><a href=#attr-nonce>nonce</a></code>" and the empty
     string.</li></ol>
   </li></ol>

  <p class=note>As each <code id=nonce-attributes:document><a href=dom.html#document>Document</a></code>'s <a href=dom.html#concept-document-csp-list id=nonce-attributes:concept-document-csp-list-2>CSP
  list</a> is append-only, user agents can optimize away the <a id=nonce-attributes:contains-a-header-delivered-content-security-policy-2 href=https://w3c.github.io/webappsec-csp/#contains-a-header-delivered-content-security-policy data-x-internal=contains-a-header-delivered-content-security-policy>contains a header-delivered
  Content Security Policy</a> check by, for example, holding a flag on the <code id=nonce-attributes:document-2><a href=dom.html#document>Document</a></code>,
  set during <a href=browsing-the-web.html#initialise-the-document-object id=nonce-attributes:initialise-the-document-object><code>Document</code>
  initialization</a>.</p>

  <p>The <a href=https://triple-underscore.github.io/DOM4-ja.html#concept-node-clone-ext id=nonce-attributes:concept-node-clone-ext data-x-internal=concept-node-clone-ext>cloning steps</a> for elements that include
  <code id=nonce-attributes:htmlorsvgelement-4><a href=dom.html#htmlorsvgelement>HTMLOrSVGElement</a></code> must set the <a href=#cryptographicnonce id=nonce-attributes:cryptographicnonce-5>[[CryptographicNonce]]</a> slot on the copy
  to the value of the slot on the element being cloned.</p>


  <nav><a href=common-microsyntaxes.html>← 2.4 共通マイクロ構文</a> — <a href=./>目次</a> — <a href=common-dom-interfaces.html>2.7 共通DOMインターフェイス →</a></nav>
</body></html>